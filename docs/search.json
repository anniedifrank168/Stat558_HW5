[
  {
    "objectID": "AJD_HW5.html",
    "href": "AJD_HW5.html",
    "title": "St558HW5",
    "section": "",
    "text": "First, will load the data in locally\nSecond, will load and combine the data using functions from tidyverse\nLastly, will convert interesting categorical variables to factors for both math data, Portuguese, and combined data. The four variables I am interested in are\n\naddress: student’s home address type (binary: ‘U’ - urban or ‘R’ - rural)\nfamsize: family size (binary: ‘LE3’ - less or equal to 3 or ‘GT3’ - greater than 3)\nPstatus: parent’s cohabitation status (binary: ‘T’ - living together or ‘A’ - apart)\nguardian: student’s guardian (nominal: ‘mother’, ‘father’, or ‘other’)\n\n\n\n#Loading in data from local file sourse and combining the 2 dataframes \nmath_data=read.table(\"student-mat.csv\",sep=\";\",header=TRUE)\npor_data=read.table(\"student-por.csv\",sep=\";\",header=TRUE)\n\ncombined_data=merge(math_data,por_data,by=c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\nprint(nrow(combined_data)) # 382 students\n\n[1] 382\n\n#Loading in the data and combing using functions from the tidyverse\n\nmath_data2 = read_csv2(\"student-mat.csv\",col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\n\n\nRows: 395 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npor_data2 = read_csv2(\"student-por.csv\",col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\nRows: 649 Columns: 33── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ncombine_data2 &lt;- inner_join(math_data2,por_data2, by = c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\n\nWarning in inner_join(math_data2, por_data2, by = c(\"school\", \"sex\", \"age\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n#Warning: Detected an unexpected many-to-many relationship between `x` and `y`. Looked up this warning and it says it arises when a single row in one dataset can match with multiple rows in the other and vice versa, creating a \"many to many\" relationship. This can cause duplicate rows or incorrect data combinations - issue is with G1-3 and paid and absences because they are specific to the class \n\n#grabbing variable names to copy paste \ncolnames(math_data)\n\n [1] \"school\"     \"sex\"        \"age\"        \"address\"    \"famsize\"   \n [6] \"Pstatus\"    \"Medu\"       \"Fedu\"       \"Mjob\"       \"Fjob\"      \n[11] \"reason\"     \"guardian\"   \"traveltime\" \"studytime\"  \"failures\"  \n[16] \"schoolsup\"  \"famsup\"     \"paid\"       \"activities\" \"nursery\"   \n[21] \"higher\"     \"internet\"   \"romantic\"   \"famrel\"     \"freetime\"  \n[26] \"goout\"      \"Dalc\"       \"Walc\"       \"health\"     \"absences\"  \n[31] \"G1\"         \"G2\"         \"G3\"        \n\ncomb_data3 &lt;- inner_join(math_data2,por_data2, by= c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"guardian\",\"traveltime\",\"studytime\",\"failures\",\"schoolsup\",\"famsup\",\"activities\",\"nursery\",\"higher\",\"internet\",\"romantic\",\"famrel\", \"freetime\",\"goout\",\"Dalc\",\"Walc\",\"health\"))\n\n#Converting 4 categorical variables to factor variables in each tibble using mutate()\n\nmath_data2 %&gt;% mutate(\"famsizeF\" = as.factor(famsize), \"PstatusF\" = as.factor(Pstatus), \"guardianF\" = as.factor(guardian), \"addressF\" = as.factor(address), .keep=\"unused\") -&gt; math_data3\n\npor_data2 %&gt;% mutate(\"famsizeF\" = as.factor(famsize), \"PstatusF\" = as.factor(Pstatus), \"guardianF\" = as.factor(guardian), \"addressF\" = as.factor(address), .keep=\"unused\") -&gt; por_data3\n\ncomb_data3 %&gt;% mutate(\"famsizeF\" = as.factor(famsize), \"PstatusF\" = as.factor(Pstatus), \"guardianF\" = as.factor(guardian), \"addressF\" = as.factor(address), .keep=\"unused\") -&gt; comb_data3\n\n#printing for display purposes\nmath_data3\n\n# A tibble: 395 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 385 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\npor_data3\n\n# A tibble: 649 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 639 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\ncomb_data3\n\n# A tibble: 320 × 38\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     4     2 health   services home             1         3\n 4 GP     F        16     3     3 other    other    home             1         2\n 5 GP     M        16     4     3 services other    reputa…          1         2\n 6 GP     M        16     2     2 other    other    home             1         2\n 7 GP     F        17     4     4 other    teacher  home             2         2\n 8 GP     M        15     3     2 services other    home             1         2\n 9 GP     M        15     3     4 other    other    home             1         2\n10 GP     F        15     4     4 teacher  health   reputa…          1         2\n# ℹ 310 more rows\n# ℹ 28 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid.x &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;,\n#   internet &lt;chr&gt;, romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;,\n#   Dalc &lt;dbl&gt;, Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences.x &lt;dbl&gt;, G1.x &lt;dbl&gt;,\n#   G2.x &lt;dbl&gt;, G3.x &lt;dbl&gt;, paid.y &lt;chr&gt;, absences.y &lt;dbl&gt;, G1.y &lt;dbl&gt;,\n#   G2.y &lt;dbl&gt;, G3.y &lt;dbl&gt;, famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, …\n\n\n\n\n\nHere, we will look at how the data is stored to make sure everything makes sense as well as document any missing values. Then, we will perform summaries and graphs on interesting things.\n\n\n\ncomb_data3\n\n# A tibble: 320 × 38\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     4     2 health   services home             1         3\n 4 GP     F        16     3     3 other    other    home             1         2\n 5 GP     M        16     4     3 services other    reputa…          1         2\n 6 GP     M        16     2     2 other    other    home             1         2\n 7 GP     F        17     4     4 other    teacher  home             2         2\n 8 GP     M        15     3     2 services other    home             1         2\n 9 GP     M        15     3     4 other    other    home             1         2\n10 GP     F        15     4     4 teacher  health   reputa…          1         2\n# ℹ 310 more rows\n# ℹ 28 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid.x &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;,\n#   internet &lt;chr&gt;, romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;,\n#   Dalc &lt;dbl&gt;, Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences.x &lt;dbl&gt;, G1.x &lt;dbl&gt;,\n#   G2.x &lt;dbl&gt;, G3.x &lt;dbl&gt;, paid.y &lt;chr&gt;, absences.y &lt;dbl&gt;, G1.y &lt;dbl&gt;,\n#   G2.y &lt;dbl&gt;, G3.y &lt;dbl&gt;, famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, …\n\n#going to convert G1 and G2 to character- they are technically numeric, but listed as a categorical variable- I want to turn them to character so I don't accidentally do weird numeric summaries on them later \ncomb_data3 %&gt;% mutate(\"G1.x\" = as.character(G1.x), \"G1.y\" = as.character(G1.y), \"G2.x\" = as.character(G2.x), \"G2.y\" = as.character(G2.y), .keep=\"unused\") -&gt;comb_data3\n\nstr(comb_data3)\n\ntibble [320 × 38] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:320] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:320] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:320] 18 17 15 16 16 16 17 15 15 15 ...\n $ Medu      : num [1:320] 4 1 4 3 4 2 4 3 3 4 ...\n $ Fedu      : num [1:320] 4 1 2 3 3 2 4 2 4 4 ...\n $ Mjob      : chr [1:320] \"at_home\" \"at_home\" \"health\" \"other\" ...\n $ Fjob      : chr [1:320] \"teacher\" \"other\" \"services\" \"other\" ...\n $ reason    : chr [1:320] \"course\" \"course\" \"home\" \"home\" ...\n $ traveltime: num [1:320] 2 1 1 1 1 1 2 1 1 1 ...\n $ studytime : num [1:320] 2 2 3 2 2 2 2 2 2 2 ...\n $ failures  : num [1:320] 0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:320] \"yes\" \"no\" \"no\" \"no\" ...\n $ famsup    : chr [1:320] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ paid.x    : chr [1:320] \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities: chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ nursery   : chr [1:320] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:320] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:320] \"no\" \"yes\" \"yes\" \"no\" ...\n $ romantic  : chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ famrel    : num [1:320] 4 5 3 4 5 4 4 4 5 3 ...\n $ freetime  : num [1:320] 3 3 2 3 4 4 1 2 5 3 ...\n $ goout     : num [1:320] 4 3 2 2 2 4 4 2 1 3 ...\n $ Dalc      : num [1:320] 1 1 1 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:320] 1 1 1 2 2 1 1 1 1 2 ...\n $ health    : num [1:320] 3 3 5 5 5 3 1 1 5 2 ...\n $ absences.x: num [1:320] 6 4 2 4 10 0 6 0 0 0 ...\n $ G1.x      : chr [1:320] \"5\" \"5\" \"15\" \"6\" ...\n $ G2.x      : chr [1:320] \"6\" \"5\" \"14\" \"10\" ...\n $ G3.x      : num [1:320] 6 6 15 10 15 11 6 19 15 9 ...\n $ paid.y    : chr [1:320] \"no\" \"no\" \"no\" \"no\" ...\n $ absences.y: num [1:320] 4 2 0 0 6 0 2 0 0 2 ...\n $ G1.y      : chr [1:320] \"0\" \"9\" \"14\" \"11\" ...\n $ G2.y      : chr [1:320] \"11\" \"11\" \"14\" \"13\" ...\n $ G3.y      : num [1:320] 11 11 14 13 13 13 13 17 13 14 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 1 1 2 2 1 2 1 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 1 1 2 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 1 2 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\npsych::describe(comb_data3) #nothing looks weird here \n\n            vars   n  mean   sd median trimmed  mad min max range  skew\nschool*        1 320  1.10 0.30    1.0    1.00 0.00   1   2     1  2.60\nsex*           2 320  1.46 0.50    1.0    1.45 0.00   1   2     1  0.17\nage            3 320 16.52 1.14   16.0   16.49 1.48  15  22     7  0.43\nMedu           4 320  2.87 1.07    3.0    2.97 1.48   0   4     4 -0.43\nFedu           5 320  2.62 1.09    3.0    2.66 1.48   0   4     4 -0.16\nMjob*          6 320  3.21 1.24    3.0    3.26 1.48   1   5     4 -0.29\nFjob*          7 320  3.31 0.86    3.0    3.32 0.00   1   5     4 -0.25\nreason*        8 320  2.26 1.21    2.0    2.20 1.48   1   4     3  0.40\ntraveltime     9 320  1.43 0.69    1.0    1.29 0.00   1   4     3  1.65\nstudytime     10 320  2.08 0.87    2.0    2.00 1.48   1   4     3  0.59\nfailures      11 320  0.08 0.39    0.0    0.00 0.00   0   3     3  5.92\nschoolsup*    12 320  1.13 0.34    1.0    1.04 0.00   1   2     1  2.13\nfamsup*       13 320  1.63 0.48    2.0    1.67 0.00   1   2     1 -0.56\npaid.x*       14 320  1.50 0.50    1.5    1.50 0.74   1   2     1  0.00\nactivities*   15 320  1.53 0.50    2.0    1.54 0.00   1   2     1 -0.12\nnursery*      16 320  1.82 0.39    2.0    1.89 0.00   1   2     1 -1.62\nhigher*       17 320  1.98 0.15    2.0    2.00 0.00   1   2     1 -6.51\ninternet*     18 320  1.85 0.36    2.0    1.94 0.00   1   2     1 -1.95\nromantic*     19 320  1.31 0.46    1.0    1.26 0.00   1   2     1  0.82\nfamrel        20 320  3.99 0.89    4.0    4.08 1.48   1   5     4 -0.98\nfreetime      21 320  3.20 0.97    3.0    3.20 1.48   1   5     4 -0.14\ngoout         22 320  3.07 1.10    3.0    3.04 1.48   1   5     4  0.16\nDalc          23 320  1.44 0.88    1.0    1.21 0.00   1   5     4  2.34\nWalc          24 320  2.22 1.26    2.0    2.08 1.48   1   5     4  0.68\nhealth        25 320  3.52 1.42    4.0    3.65 1.48   1   5     4 -0.49\nabsences.x    26 320  5.41 7.84    4.0    4.00 5.93   0  75    75  4.25\nG1.x*         27 320  6.88 4.98    5.0    6.63 4.45   1  15    14  0.43\nG2.x*         28 320  7.86 4.99    7.0    7.60 5.93   1  16    15  0.47\nG3.x          29 320 11.04 4.30   11.0   11.38 4.45   0  20    20 -0.76\npaid.y*       30 320  1.06 0.24    1.0    1.00 0.00   1   2     1  3.60\nabsences.y    31 320  3.25 4.56    2.0    2.33 2.97   0  32    32  2.53\nG1.y*         32 320  5.96 3.54    5.0    5.39 2.97   1  15    14  1.26\nG2.y*         33 320  4.98 3.51    4.0    4.39 2.97   1  14    13  1.34\nG3.y          34 320 12.88 2.89   13.0   12.97 2.97   0  19    19 -1.13\nfamsizeF*     35 320  1.28 0.45    1.0    1.23 0.00   1   2     1  0.97\nPstatusF*     36 320  1.90 0.30    2.0    2.00 0.00   1   2     1 -2.71\nguardianF*    37 320  1.80 0.47    2.0    1.84 0.00   1   3     2 -0.60\naddressF*     38 320  1.79 0.41    2.0    1.86 0.00   1   2     1 -1.42\n            kurtosis   se\nschool*         4.76 0.02\nsex*           -1.98 0.03\nage             0.35 0.06\nMedu           -1.03 0.06\nFedu           -1.16 0.06\nMjob*          -0.71 0.07\nFjob*           0.90 0.05\nreason*        -1.41 0.07\ntraveltime      2.46 0.04\nstudytime      -0.20 0.05\nfailures       38.64 0.02\nschoolsup*      2.56 0.02\nfamsup*        -1.70 0.03\npaid.x*        -2.01 0.03\nactivities*    -1.99 0.03\nnursery*        0.63 0.02\nhigher*        40.46 0.01\ninternet*       1.81 0.02\nromantic*      -1.33 0.03\nfamrel          1.21 0.05\nfreetime       -0.27 0.05\ngoout          -0.73 0.06\nDalc            5.32 0.05\nWalc           -0.69 0.07\nhealth         -1.07 0.08\nabsences.x     27.83 0.44\nG1.x*          -1.36 0.28\nG2.x*          -1.25 0.28\nG3.x            0.75 0.24\npaid.y*        10.98 0.01\nabsences.y      9.37 0.25\nG1.y*           0.93 0.20\nG2.y*           1.10 0.20\nG3.y            4.18 0.16\nfamsizeF*      -1.07 0.03\nPstatusF*       5.38 0.02\nguardianF*      0.21 0.03\naddressF*       0.02 0.02\n\ncolSums(is.na(comb_data3)) #no NAs which is expected, says in their documentation\n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup     paid.x \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health absences.x       G1.x       G2.x \n         0          0          0          0          0          0          0 \n      G3.x     paid.y absences.y       G1.y       G2.y       G3.y   famsizeF \n         0          0          0          0          0          0          0 \n  PstatusF  guardianF   addressF \n         0          0          0 \n\n#Im going to rename the Gs/ paid/abscences for my own benefit \ncomb_data3 %&gt;% mutate(\"G1.math\" = G1.x, \"G1.por\" = G1.y, \"G2.math\" = G2.x, \"G2.por\" = G2.y,\"G3.math\" = G3.x, \"G3.por\" = G3.y, \"paid.math\" = paid.x, \"absences.math\" = absences.x, \"paid.por\" = paid.y, \"absences.por\" = absences.y, .keep = \"unused\") -&gt;comb_data3\n#______________________________\n\nmath_data3 #again fine except G1/G2 \n\n# A tibble: 395 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 385 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\nmath_data3 %&gt;% mutate(\"G1\" = as.character(G1),\"G2\" = as.character(G2), .keep=\"unused\") -&gt;math_data3\n\nstr(math_data3)\n\ntibble [395 × 33] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:395] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:395] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:395] 18 17 15 15 16 16 16 17 15 15 ...\n $ Medu      : num [1:395] 4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu      : num [1:395] 4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob      : chr [1:395] \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob      : chr [1:395] \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason    : chr [1:395] \"course\" \"course\" \"other\" \"home\" ...\n $ traveltime: num [1:395] 2 1 1 1 1 1 1 2 1 1 ...\n $ studytime : num [1:395] 2 2 2 3 2 2 2 2 2 2 ...\n $ failures  : num [1:395] 0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:395] \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup    : chr [1:395] \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid      : chr [1:395] \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities: chr [1:395] \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery   : chr [1:395] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:395] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:395] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic  : chr [1:395] \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel    : num [1:395] 4 5 4 3 4 5 4 4 4 5 ...\n $ freetime  : num [1:395] 3 3 3 2 3 4 4 1 2 5 ...\n $ goout     : num [1:395] 4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc      : num [1:395] 1 1 2 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:395] 1 1 3 1 2 2 1 1 1 1 ...\n $ health    : num [1:395] 3 3 3 5 5 5 3 1 1 5 ...\n $ absences  : num [1:395] 6 4 10 2 4 10 0 6 0 0 ...\n $ G1        : chr [1:395] \"5\" \"5\" \"7\" \"15\" ...\n $ G2        : chr [1:395] \"6\" \"5\" \"8\" \"14\" ...\n $ G3        : num [1:395] 6 6 10 15 10 15 11 6 19 15 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 2 1 1 2 2 1 2 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 2 1 1 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 2 1 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\npsych::describe(math_data3) #looks fine \n\n            vars   n  mean   sd median trimmed  mad min max range  skew\nschool*        1 395  1.12 0.32      1    1.02 0.00   1   2     1  2.38\nsex*           2 395  1.47 0.50      1    1.47 0.00   1   2     1  0.11\nage            3 395 16.70 1.28     17   16.63 1.48  15  22     7  0.46\nMedu           4 395  2.75 1.09      3    2.82 1.48   0   4     4 -0.32\nFedu           5 395  2.52 1.09      2    2.53 1.48   0   4     4 -0.03\nMjob*          6 395  3.17 1.23      3    3.21 1.48   1   5     4 -0.33\nFjob*          7 395  3.28 0.86      3    3.32 0.00   1   5     4 -0.36\nreason*        8 395  2.26 1.21      2    2.20 1.48   1   4     3  0.41\ntraveltime     9 395  1.45 0.70      1    1.31 0.00   1   4     3  1.59\nstudytime     10 395  2.04 0.84      2    1.96 0.00   1   4     3  0.63\nfailures      11 395  0.33 0.74      0    0.14 0.00   0   3     3  2.37\nschoolsup*    12 395  1.13 0.34      1    1.04 0.00   1   2     1  2.20\nfamsup*       13 395  1.61 0.49      2    1.64 0.00   1   2     1 -0.46\npaid*         14 395  1.46 0.50      1    1.45 0.00   1   2     1  0.17\nactivities*   15 395  1.51 0.50      2    1.51 0.00   1   2     1 -0.04\nnursery*      16 395  1.79 0.40      2    1.87 0.00   1   2     1 -1.46\nhigher*       17 395  1.95 0.22      2    2.00 0.00   1   2     1 -4.08\ninternet*     18 395  1.83 0.37      2    1.91 0.00   1   2     1 -1.78\nromantic*     19 395  1.33 0.47      1    1.29 0.00   1   2     1  0.70\nfamrel        20 395  3.94 0.90      4    4.04 1.48   1   5     4 -0.94\nfreetime      21 395  3.24 1.00      3    3.23 1.48   1   5     4 -0.16\ngoout         22 395  3.11 1.11      3    3.09 1.48   1   5     4  0.12\nDalc          23 395  1.48 0.89      1    1.27 0.00   1   5     4  2.17\nWalc          24 395  2.29 1.29      2    2.15 1.48   1   5     4  0.61\nhealth        25 395  3.55 1.39      4    3.69 1.48   1   5     4 -0.49\nabsences      26 395  5.71 8.00      4    4.24 5.93   0  75    75  3.64\nG1*           27 395  8.02 5.90      6    7.80 5.93   1  17    16  0.35\nG2*           28 395  8.40 5.59      7    8.17 5.93   1  17    16  0.40\nG3            29 395 10.42 4.58     11   10.84 4.45   0  20    20 -0.73\nfamsizeF*     30 395  1.29 0.45      1    1.24 0.00   1   2     1  0.93\nPstatusF*     31 395  1.90 0.31      2    1.99 0.00   1   2     1 -2.59\nguardianF*    32 395  1.85 0.54      2    1.84 0.00   1   3     2 -0.11\naddressF*     33 395  1.78 0.42      2    1.85 0.00   1   2     1 -1.33\n            kurtosis   se\nschool*         3.68 0.02\nsex*           -1.99 0.03\nage            -0.03 0.06\nMedu           -1.10 0.06\nFedu           -1.21 0.05\nMjob*          -0.69 0.06\nFjob*           0.98 0.04\nreason*        -1.40 0.06\ntraveltime      2.27 0.04\nstudytime      -0.04 0.04\nfailures        4.89 0.04\nschoolsup*      2.86 0.02\nfamsup*        -1.79 0.02\npaid*          -1.98 0.03\nactivities*    -2.00 0.03\nnursery*        0.12 0.02\nhigher*        14.71 0.01\ninternet*       1.16 0.02\nromantic*      -1.51 0.02\nfamrel          1.09 0.05\nfreetime       -0.33 0.05\ngoout          -0.79 0.06\nDalc            4.65 0.04\nWalc           -0.81 0.06\nhealth         -1.03 0.07\nabsences       21.31 0.40\nG1*            -1.54 0.30\nG2*            -1.43 0.28\nG3              0.37 0.23\nfamsizeF*      -1.14 0.02\nPstatusF*       4.71 0.02\nguardianF*      0.15 0.03\naddressF*      -0.24 0.02\n\ncolSums(is.na(math_data3)) #no NAs \n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup       paid \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health   absences         G1         G2 \n         0          0          0          0          0          0          0 \n        G3   famsizeF   PstatusF  guardianF   addressF \n         0          0          0          0          0 \n\n#______________________________\n\npor_data3 #again fine except G1/G2 \n\n# A tibble: 649 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 639 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\npor_data3 %&gt;% mutate(\"G1\" = as.character(G1),\"G2\" = as.character(G2), .keep=\"unused\") -&gt;por_data3\n\nstr(por_data3)\n\ntibble [649 × 33] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:649] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:649] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:649] 18 17 15 15 16 16 16 17 15 15 ...\n $ Medu      : num [1:649] 4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu      : num [1:649] 4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob      : chr [1:649] \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob      : chr [1:649] \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason    : chr [1:649] \"course\" \"course\" \"other\" \"home\" ...\n $ traveltime: num [1:649] 2 1 1 1 1 1 1 2 1 1 ...\n $ studytime : num [1:649] 2 2 2 3 2 2 2 2 2 2 ...\n $ failures  : num [1:649] 0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:649] \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup    : chr [1:649] \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid      : chr [1:649] \"no\" \"no\" \"no\" \"no\" ...\n $ activities: chr [1:649] \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery   : chr [1:649] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:649] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:649] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic  : chr [1:649] \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel    : num [1:649] 4 5 4 3 4 5 4 4 4 5 ...\n $ freetime  : num [1:649] 3 3 3 2 3 4 4 1 2 5 ...\n $ goout     : num [1:649] 4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc      : num [1:649] 1 1 2 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:649] 1 1 3 1 2 2 1 1 1 1 ...\n $ health    : num [1:649] 3 3 3 5 5 5 3 1 1 5 ...\n $ absences  : num [1:649] 4 2 6 0 0 6 0 2 0 0 ...\n $ G1        : chr [1:649] \"0\" \"9\" \"12\" \"14\" ...\n $ G2        : chr [1:649] \"11\" \"11\" \"13\" \"14\" ...\n $ G3        : num [1:649] 11 11 12 14 13 13 13 13 17 13 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 2 1 1 2 2 1 2 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 2 1 1 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 2 1 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\npsych::describe(por_data3) #looks fine \n\n            vars   n  mean   sd median trimmed  mad min max range  skew\nschool*        1 649  1.35 0.48      1    1.31 0.00   1   2     1  0.64\nsex*           2 649  1.41 0.49      1    1.39 0.00   1   2     1  0.37\nage            3 649 16.74 1.22     17   16.70 1.48  15  22     7  0.41\nMedu           4 649  2.51 1.13      2    2.53 1.48   0   4     4 -0.03\nFedu           5 649  2.31 1.10      2    2.27 1.48   0   4     4  0.21\nMjob*          6 649  2.94 1.25      3    2.93 1.48   1   5     4 -0.19\nFjob*          7 649  3.22 0.86      3    3.29 0.00   1   5     4 -0.53\nreason*        8 649  2.11 1.19      2    2.02 1.48   1   4     3  0.56\ntraveltime     9 649  1.57 0.75      1    1.43 0.00   1   4     3  1.24\nstudytime     10 649  1.93 0.83      2    1.85 1.48   1   4     3  0.70\nfailures      11 649  0.22 0.59      0    0.07 0.00   0   3     3  3.08\nschoolsup*    12 649  1.10 0.31      1    1.01 0.00   1   2     1  2.57\nfamsup*       13 649  1.61 0.49      2    1.64 0.00   1   2     1 -0.46\npaid*         14 649  1.06 0.24      1    1.00 0.00   1   2     1  3.69\nactivities*   15 649  1.49 0.50      1    1.48 0.00   1   2     1  0.06\nnursery*      16 649  1.80 0.40      2    1.88 0.00   1   2     1 -1.52\nhigher*       17 649  1.89 0.31      2    1.99 0.00   1   2     1 -2.55\ninternet*     18 649  1.77 0.42      2    1.83 0.00   1   2     1 -1.26\nromantic*     19 649  1.37 0.48      1    1.34 0.00   1   2     1  0.55\nfamrel        20 649  3.93 0.96      4    4.05 1.48   1   5     4 -1.10\nfreetime      21 649  3.18 1.05      3    3.19 1.48   1   5     4 -0.18\ngoout         22 649  3.18 1.18      3    3.20 1.48   1   5     4 -0.01\nDalc          23 649  1.50 0.92      1    1.28 0.00   1   5     4  2.13\nWalc          24 649  2.28 1.28      2    2.14 1.48   1   5     4  0.63\nhealth        25 649  3.54 1.45      4    3.67 1.48   1   5     4 -0.50\nabsences      26 649  3.66 4.64      2    2.80 2.97   0  32    32  2.01\nG1*           27 649  7.26 5.24      5    6.71 2.97   1  17    16  0.89\nG2*           28 649  6.86 4.79      5    6.34 2.97   1  16    15  0.92\nG3            29 649 11.91 3.23     12   12.04 2.97   0  19    19 -0.91\nfamsizeF*     30 649  1.30 0.46      1    1.25 0.00   1   2     1  0.89\nPstatusF*     31 649  1.88 0.33      2    1.97 0.00   1   2     1 -2.29\nguardianF*    32 649  1.83 0.52      2    1.83 0.00   1   3     2 -0.20\naddressF*     33 649  1.70 0.46      2    1.74 0.00   1   2     1 -0.85\n            kurtosis   se\nschool*        -1.60 0.02\nsex*           -1.87 0.02\nage             0.05 0.05\nMedu           -1.27 0.04\nFedu           -1.12 0.04\nMjob*          -0.83 0.05\nFjob*           1.17 0.03\nreason*        -1.25 0.05\ntraveltime      1.08 0.03\nstudytime       0.02 0.03\nfailures        9.70 0.02\nschoolsup*      4.64 0.01\nfamsup*        -1.79 0.02\npaid*          11.66 0.01\nactivities*    -2.00 0.02\nnursery*        0.31 0.02\nhigher*         4.50 0.01\ninternet*      -0.41 0.02\nromantic*      -1.71 0.02\nfamrel          1.32 0.04\nfreetime       -0.41 0.04\ngoout          -0.87 0.05\nDalc            4.28 0.04\nWalc           -0.78 0.05\nhealth         -1.13 0.06\nabsences        5.70 0.18\nG1*            -0.77 0.21\nG2*            -0.60 0.19\nG3              2.66 0.13\nfamsizeF*      -1.21 0.02\nPstatusF*       3.23 0.01\nguardianF*      0.17 0.02\naddressF*      -1.28 0.02\n\ncolSums(is.na(por_data3)) #no NAs \n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup       paid \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health   absences         G1         G2 \n         0          0          0          0          0          0          0 \n        G3   famsizeF   PstatusF  guardianF   addressF \n         0          0          0          0          0 \n\n\n\n\n\n\n#one-way table \ntable(math_data3$famsizeF)\n\n\nGT3 LE3 \n281 114 \n\n#Over double the amount of people with less than or equal to 3 members have &gt;3 family members; 281 have &gt;3 and 114 have &lt;= 3. \n\n#two-way table\ntable(math_data3$famsizeF, math_data3$addressF) \n\n     \n        R   U\n  GT3  68 213\n  LE3  20  94\n\n#Regardless of family size, urban living is more common than rural. Out of the people with families &gt;3 people, 68 live rurally. \n\n#three-way table\ntable(math_data3$famsizeF, math_data3$addressF, math_data3$PstatusF) \n\n, ,  = A\n\n     \n        R   U\n  GT3   4  17\n  LE3   3  17\n\n, ,  = T\n\n     \n        R   U\n  GT3  64 196\n  LE3  17  77\n\n#First observation, significantly more people have parents living together which is nice. Of the people with split parents, 4/21 of those with families &gt;3 people live rurally. \n#____________________________________________________\n\n#conditional two-way table \n\nthreeway&lt;- table(math_data3$famsizeF, math_data3$addressF, math_data3$PstatusF)\nthreeway[,,2] \n\n     \n        R   U\n  GT3  64 196\n  LE3  17  77\n\n#This gives only the values of family size and address for those with parents that are together\nmath_data3 %&gt;% filter(PstatusF==\"T\") -&gt;subsetted_math\ntable(subsetted_math$famsizeF,subsetted_math$addressF)\n\n     \n        R   U\n  GT3  64 196\n  LE3  17  77\n\n#This gives only the values of family size and address for those with parents that are together\n\n#_____________________________________________________\n\n#Two-way contigency table \n\nmath_data3 %&gt;% group_by(famsizeF,addressF) %&gt;% summarize(count = n()) %&gt;% pivot_wider(names_from=addressF, values_from=count) #same output as the two-way table from earlier! \n\n`summarise()` has grouped output by 'famsizeF'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 2 × 3\n# Groups:   famsizeF [2]\n  famsizeF     R     U\n  &lt;fct&gt;    &lt;int&gt; &lt;int&gt;\n1 GT3         68   213\n2 LE3         20    94\n\n#______________________________________________________\n\n#Stacked bar plot \nggplot(math_data3, aes(x=famsizeF, fill = addressF)) + geom_bar() + labs(x= \"Family size: &gt;3 or &lt;=3\", y= \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")\n\n\n\n#Side-by-side plot \nggplot(math_data3, aes(x=famsizeF, fill = addressF)) + geom_bar(position = \"dodge\") + labs(x= \"Family size: &gt;3 or &lt;=3\", y= \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")"
  },
  {
    "objectID": "AJD_HW5.html#task-1-reading-in-and-modifying-data",
    "href": "AJD_HW5.html#task-1-reading-in-and-modifying-data",
    "title": "St558HW5",
    "section": "",
    "text": "First, will load the data in locally\nSecond, will load and combine the data using functions from tidyverse\nLastly, will convert interesting categorical variables to factors for both math data, Portuguese, and combined data. The four variables I am interested in are\n\naddress: student’s home address type (binary: ‘U’ - urban or ‘R’ - rural)\nfamsize: family size (binary: ‘LE3’ - less or equal to 3 or ‘GT3’ - greater than 3)\nPstatus: parent’s cohabitation status (binary: ‘T’ - living together or ‘A’ - apart)\nguardian: student’s guardian (nominal: ‘mother’, ‘father’, or ‘other’)\n\n\n\n#Loading in data from local file sourse and combining the 2 dataframes \nmath_data=read.table(\"student-mat.csv\",sep=\";\",header=TRUE)\npor_data=read.table(\"student-por.csv\",sep=\";\",header=TRUE)\n\ncombined_data=merge(math_data,por_data,by=c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\nprint(nrow(combined_data)) # 382 students\n\n[1] 382\n\n#Loading in the data and combing using functions from the tidyverse\n\nmath_data2 = read_csv2(\"student-mat.csv\",col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\n\n\nRows: 395 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npor_data2 = read_csv2(\"student-por.csv\",col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\nRows: 649 Columns: 33── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ncombine_data2 &lt;- inner_join(math_data2,por_data2, by = c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"))\n\nWarning in inner_join(math_data2, por_data2, by = c(\"school\", \"sex\", \"age\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n#Warning: Detected an unexpected many-to-many relationship between `x` and `y`. Looked up this warning and it says it arises when a single row in one dataset can match with multiple rows in the other and vice versa, creating a \"many to many\" relationship. This can cause duplicate rows or incorrect data combinations - issue is with G1-3 and paid and absences because they are specific to the class \n\n#grabbing variable names to copy paste \ncolnames(math_data)\n\n [1] \"school\"     \"sex\"        \"age\"        \"address\"    \"famsize\"   \n [6] \"Pstatus\"    \"Medu\"       \"Fedu\"       \"Mjob\"       \"Fjob\"      \n[11] \"reason\"     \"guardian\"   \"traveltime\" \"studytime\"  \"failures\"  \n[16] \"schoolsup\"  \"famsup\"     \"paid\"       \"activities\" \"nursery\"   \n[21] \"higher\"     \"internet\"   \"romantic\"   \"famrel\"     \"freetime\"  \n[26] \"goout\"      \"Dalc\"       \"Walc\"       \"health\"     \"absences\"  \n[31] \"G1\"         \"G2\"         \"G3\"        \n\ncomb_data3 &lt;- inner_join(math_data2,por_data2, by= c(\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"guardian\",\"traveltime\",\"studytime\",\"failures\",\"schoolsup\",\"famsup\",\"activities\",\"nursery\",\"higher\",\"internet\",\"romantic\",\"famrel\", \"freetime\",\"goout\",\"Dalc\",\"Walc\",\"health\"))\n\n#Converting 4 categorical variables to factor variables in each tibble using mutate()\n\nmath_data2 %&gt;% mutate(\"famsizeF\" = as.factor(famsize), \"PstatusF\" = as.factor(Pstatus), \"guardianF\" = as.factor(guardian), \"addressF\" = as.factor(address), .keep=\"unused\") -&gt; math_data3\n\npor_data2 %&gt;% mutate(\"famsizeF\" = as.factor(famsize), \"PstatusF\" = as.factor(Pstatus), \"guardianF\" = as.factor(guardian), \"addressF\" = as.factor(address), .keep=\"unused\") -&gt; por_data3\n\ncomb_data3 %&gt;% mutate(\"famsizeF\" = as.factor(famsize), \"PstatusF\" = as.factor(Pstatus), \"guardianF\" = as.factor(guardian), \"addressF\" = as.factor(address), .keep=\"unused\") -&gt; comb_data3\n\n#printing for display purposes\nmath_data3\n\n# A tibble: 395 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 385 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\npor_data3\n\n# A tibble: 649 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 639 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\ncomb_data3\n\n# A tibble: 320 × 38\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     4     2 health   services home             1         3\n 4 GP     F        16     3     3 other    other    home             1         2\n 5 GP     M        16     4     3 services other    reputa…          1         2\n 6 GP     M        16     2     2 other    other    home             1         2\n 7 GP     F        17     4     4 other    teacher  home             2         2\n 8 GP     M        15     3     2 services other    home             1         2\n 9 GP     M        15     3     4 other    other    home             1         2\n10 GP     F        15     4     4 teacher  health   reputa…          1         2\n# ℹ 310 more rows\n# ℹ 28 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid.x &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;,\n#   internet &lt;chr&gt;, romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;,\n#   Dalc &lt;dbl&gt;, Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences.x &lt;dbl&gt;, G1.x &lt;dbl&gt;,\n#   G2.x &lt;dbl&gt;, G3.x &lt;dbl&gt;, paid.y &lt;chr&gt;, absences.y &lt;dbl&gt;, G1.y &lt;dbl&gt;,\n#   G2.y &lt;dbl&gt;, G3.y &lt;dbl&gt;, famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, …"
  },
  {
    "objectID": "AJD_HW5.html#task-2-summarizing-the-data",
    "href": "AJD_HW5.html#task-2-summarizing-the-data",
    "title": "St558HW5",
    "section": "",
    "text": "Here, we will look at how the data is stored to make sure everything makes sense as well as document any missing values. Then, we will perform summaries and graphs on interesting things.\n\n\n\ncomb_data3\n\n# A tibble: 320 × 38\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     4     2 health   services home             1         3\n 4 GP     F        16     3     3 other    other    home             1         2\n 5 GP     M        16     4     3 services other    reputa…          1         2\n 6 GP     M        16     2     2 other    other    home             1         2\n 7 GP     F        17     4     4 other    teacher  home             2         2\n 8 GP     M        15     3     2 services other    home             1         2\n 9 GP     M        15     3     4 other    other    home             1         2\n10 GP     F        15     4     4 teacher  health   reputa…          1         2\n# ℹ 310 more rows\n# ℹ 28 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid.x &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;,\n#   internet &lt;chr&gt;, romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;,\n#   Dalc &lt;dbl&gt;, Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences.x &lt;dbl&gt;, G1.x &lt;dbl&gt;,\n#   G2.x &lt;dbl&gt;, G3.x &lt;dbl&gt;, paid.y &lt;chr&gt;, absences.y &lt;dbl&gt;, G1.y &lt;dbl&gt;,\n#   G2.y &lt;dbl&gt;, G3.y &lt;dbl&gt;, famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, …\n\n#going to convert G1 and G2 to character- they are technically numeric, but listed as a categorical variable- I want to turn them to character so I don't accidentally do weird numeric summaries on them later \ncomb_data3 %&gt;% mutate(\"G1.x\" = as.character(G1.x), \"G1.y\" = as.character(G1.y), \"G2.x\" = as.character(G2.x), \"G2.y\" = as.character(G2.y), .keep=\"unused\") -&gt;comb_data3\n\nstr(comb_data3)\n\ntibble [320 × 38] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:320] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:320] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:320] 18 17 15 16 16 16 17 15 15 15 ...\n $ Medu      : num [1:320] 4 1 4 3 4 2 4 3 3 4 ...\n $ Fedu      : num [1:320] 4 1 2 3 3 2 4 2 4 4 ...\n $ Mjob      : chr [1:320] \"at_home\" \"at_home\" \"health\" \"other\" ...\n $ Fjob      : chr [1:320] \"teacher\" \"other\" \"services\" \"other\" ...\n $ reason    : chr [1:320] \"course\" \"course\" \"home\" \"home\" ...\n $ traveltime: num [1:320] 2 1 1 1 1 1 2 1 1 1 ...\n $ studytime : num [1:320] 2 2 3 2 2 2 2 2 2 2 ...\n $ failures  : num [1:320] 0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:320] \"yes\" \"no\" \"no\" \"no\" ...\n $ famsup    : chr [1:320] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ paid.x    : chr [1:320] \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities: chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ nursery   : chr [1:320] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:320] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:320] \"no\" \"yes\" \"yes\" \"no\" ...\n $ romantic  : chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ famrel    : num [1:320] 4 5 3 4 5 4 4 4 5 3 ...\n $ freetime  : num [1:320] 3 3 2 3 4 4 1 2 5 3 ...\n $ goout     : num [1:320] 4 3 2 2 2 4 4 2 1 3 ...\n $ Dalc      : num [1:320] 1 1 1 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:320] 1 1 1 2 2 1 1 1 1 2 ...\n $ health    : num [1:320] 3 3 5 5 5 3 1 1 5 2 ...\n $ absences.x: num [1:320] 6 4 2 4 10 0 6 0 0 0 ...\n $ G1.x      : chr [1:320] \"5\" \"5\" \"15\" \"6\" ...\n $ G2.x      : chr [1:320] \"6\" \"5\" \"14\" \"10\" ...\n $ G3.x      : num [1:320] 6 6 15 10 15 11 6 19 15 9 ...\n $ paid.y    : chr [1:320] \"no\" \"no\" \"no\" \"no\" ...\n $ absences.y: num [1:320] 4 2 0 0 6 0 2 0 0 2 ...\n $ G1.y      : chr [1:320] \"0\" \"9\" \"14\" \"11\" ...\n $ G2.y      : chr [1:320] \"11\" \"11\" \"14\" \"13\" ...\n $ G3.y      : num [1:320] 11 11 14 13 13 13 13 17 13 14 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 1 1 2 2 1 2 1 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 1 1 2 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 1 2 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\npsych::describe(comb_data3) #nothing looks weird here \n\n            vars   n  mean   sd median trimmed  mad min max range  skew\nschool*        1 320  1.10 0.30    1.0    1.00 0.00   1   2     1  2.60\nsex*           2 320  1.46 0.50    1.0    1.45 0.00   1   2     1  0.17\nage            3 320 16.52 1.14   16.0   16.49 1.48  15  22     7  0.43\nMedu           4 320  2.87 1.07    3.0    2.97 1.48   0   4     4 -0.43\nFedu           5 320  2.62 1.09    3.0    2.66 1.48   0   4     4 -0.16\nMjob*          6 320  3.21 1.24    3.0    3.26 1.48   1   5     4 -0.29\nFjob*          7 320  3.31 0.86    3.0    3.32 0.00   1   5     4 -0.25\nreason*        8 320  2.26 1.21    2.0    2.20 1.48   1   4     3  0.40\ntraveltime     9 320  1.43 0.69    1.0    1.29 0.00   1   4     3  1.65\nstudytime     10 320  2.08 0.87    2.0    2.00 1.48   1   4     3  0.59\nfailures      11 320  0.08 0.39    0.0    0.00 0.00   0   3     3  5.92\nschoolsup*    12 320  1.13 0.34    1.0    1.04 0.00   1   2     1  2.13\nfamsup*       13 320  1.63 0.48    2.0    1.67 0.00   1   2     1 -0.56\npaid.x*       14 320  1.50 0.50    1.5    1.50 0.74   1   2     1  0.00\nactivities*   15 320  1.53 0.50    2.0    1.54 0.00   1   2     1 -0.12\nnursery*      16 320  1.82 0.39    2.0    1.89 0.00   1   2     1 -1.62\nhigher*       17 320  1.98 0.15    2.0    2.00 0.00   1   2     1 -6.51\ninternet*     18 320  1.85 0.36    2.0    1.94 0.00   1   2     1 -1.95\nromantic*     19 320  1.31 0.46    1.0    1.26 0.00   1   2     1  0.82\nfamrel        20 320  3.99 0.89    4.0    4.08 1.48   1   5     4 -0.98\nfreetime      21 320  3.20 0.97    3.0    3.20 1.48   1   5     4 -0.14\ngoout         22 320  3.07 1.10    3.0    3.04 1.48   1   5     4  0.16\nDalc          23 320  1.44 0.88    1.0    1.21 0.00   1   5     4  2.34\nWalc          24 320  2.22 1.26    2.0    2.08 1.48   1   5     4  0.68\nhealth        25 320  3.52 1.42    4.0    3.65 1.48   1   5     4 -0.49\nabsences.x    26 320  5.41 7.84    4.0    4.00 5.93   0  75    75  4.25\nG1.x*         27 320  6.88 4.98    5.0    6.63 4.45   1  15    14  0.43\nG2.x*         28 320  7.86 4.99    7.0    7.60 5.93   1  16    15  0.47\nG3.x          29 320 11.04 4.30   11.0   11.38 4.45   0  20    20 -0.76\npaid.y*       30 320  1.06 0.24    1.0    1.00 0.00   1   2     1  3.60\nabsences.y    31 320  3.25 4.56    2.0    2.33 2.97   0  32    32  2.53\nG1.y*         32 320  5.96 3.54    5.0    5.39 2.97   1  15    14  1.26\nG2.y*         33 320  4.98 3.51    4.0    4.39 2.97   1  14    13  1.34\nG3.y          34 320 12.88 2.89   13.0   12.97 2.97   0  19    19 -1.13\nfamsizeF*     35 320  1.28 0.45    1.0    1.23 0.00   1   2     1  0.97\nPstatusF*     36 320  1.90 0.30    2.0    2.00 0.00   1   2     1 -2.71\nguardianF*    37 320  1.80 0.47    2.0    1.84 0.00   1   3     2 -0.60\naddressF*     38 320  1.79 0.41    2.0    1.86 0.00   1   2     1 -1.42\n            kurtosis   se\nschool*         4.76 0.02\nsex*           -1.98 0.03\nage             0.35 0.06\nMedu           -1.03 0.06\nFedu           -1.16 0.06\nMjob*          -0.71 0.07\nFjob*           0.90 0.05\nreason*        -1.41 0.07\ntraveltime      2.46 0.04\nstudytime      -0.20 0.05\nfailures       38.64 0.02\nschoolsup*      2.56 0.02\nfamsup*        -1.70 0.03\npaid.x*        -2.01 0.03\nactivities*    -1.99 0.03\nnursery*        0.63 0.02\nhigher*        40.46 0.01\ninternet*       1.81 0.02\nromantic*      -1.33 0.03\nfamrel          1.21 0.05\nfreetime       -0.27 0.05\ngoout          -0.73 0.06\nDalc            5.32 0.05\nWalc           -0.69 0.07\nhealth         -1.07 0.08\nabsences.x     27.83 0.44\nG1.x*          -1.36 0.28\nG2.x*          -1.25 0.28\nG3.x            0.75 0.24\npaid.y*        10.98 0.01\nabsences.y      9.37 0.25\nG1.y*           0.93 0.20\nG2.y*           1.10 0.20\nG3.y            4.18 0.16\nfamsizeF*      -1.07 0.03\nPstatusF*       5.38 0.02\nguardianF*      0.21 0.03\naddressF*       0.02 0.02\n\ncolSums(is.na(comb_data3)) #no NAs which is expected, says in their documentation\n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup     paid.x \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health absences.x       G1.x       G2.x \n         0          0          0          0          0          0          0 \n      G3.x     paid.y absences.y       G1.y       G2.y       G3.y   famsizeF \n         0          0          0          0          0          0          0 \n  PstatusF  guardianF   addressF \n         0          0          0 \n\n#Im going to rename the Gs/ paid/abscences for my own benefit \ncomb_data3 %&gt;% mutate(\"G1.math\" = G1.x, \"G1.por\" = G1.y, \"G2.math\" = G2.x, \"G2.por\" = G2.y,\"G3.math\" = G3.x, \"G3.por\" = G3.y, \"paid.math\" = paid.x, \"absences.math\" = absences.x, \"paid.por\" = paid.y, \"absences.por\" = absences.y, .keep = \"unused\") -&gt;comb_data3\n#______________________________\n\nmath_data3 #again fine except G1/G2 \n\n# A tibble: 395 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 385 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\nmath_data3 %&gt;% mutate(\"G1\" = as.character(G1),\"G2\" = as.character(G2), .keep=\"unused\") -&gt;math_data3\n\nstr(math_data3)\n\ntibble [395 × 33] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:395] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:395] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:395] 18 17 15 15 16 16 16 17 15 15 ...\n $ Medu      : num [1:395] 4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu      : num [1:395] 4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob      : chr [1:395] \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob      : chr [1:395] \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason    : chr [1:395] \"course\" \"course\" \"other\" \"home\" ...\n $ traveltime: num [1:395] 2 1 1 1 1 1 1 2 1 1 ...\n $ studytime : num [1:395] 2 2 2 3 2 2 2 2 2 2 ...\n $ failures  : num [1:395] 0 0 3 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:395] \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup    : chr [1:395] \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid      : chr [1:395] \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities: chr [1:395] \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery   : chr [1:395] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:395] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:395] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic  : chr [1:395] \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel    : num [1:395] 4 5 4 3 4 5 4 4 4 5 ...\n $ freetime  : num [1:395] 3 3 3 2 3 4 4 1 2 5 ...\n $ goout     : num [1:395] 4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc      : num [1:395] 1 1 2 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:395] 1 1 3 1 2 2 1 1 1 1 ...\n $ health    : num [1:395] 3 3 3 5 5 5 3 1 1 5 ...\n $ absences  : num [1:395] 6 4 10 2 4 10 0 6 0 0 ...\n $ G1        : chr [1:395] \"5\" \"5\" \"7\" \"15\" ...\n $ G2        : chr [1:395] \"6\" \"5\" \"8\" \"14\" ...\n $ G3        : num [1:395] 6 6 10 15 10 15 11 6 19 15 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 2 1 1 2 2 1 2 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 2 1 1 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 2 1 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\npsych::describe(math_data3) #looks fine \n\n            vars   n  mean   sd median trimmed  mad min max range  skew\nschool*        1 395  1.12 0.32      1    1.02 0.00   1   2     1  2.38\nsex*           2 395  1.47 0.50      1    1.47 0.00   1   2     1  0.11\nage            3 395 16.70 1.28     17   16.63 1.48  15  22     7  0.46\nMedu           4 395  2.75 1.09      3    2.82 1.48   0   4     4 -0.32\nFedu           5 395  2.52 1.09      2    2.53 1.48   0   4     4 -0.03\nMjob*          6 395  3.17 1.23      3    3.21 1.48   1   5     4 -0.33\nFjob*          7 395  3.28 0.86      3    3.32 0.00   1   5     4 -0.36\nreason*        8 395  2.26 1.21      2    2.20 1.48   1   4     3  0.41\ntraveltime     9 395  1.45 0.70      1    1.31 0.00   1   4     3  1.59\nstudytime     10 395  2.04 0.84      2    1.96 0.00   1   4     3  0.63\nfailures      11 395  0.33 0.74      0    0.14 0.00   0   3     3  2.37\nschoolsup*    12 395  1.13 0.34      1    1.04 0.00   1   2     1  2.20\nfamsup*       13 395  1.61 0.49      2    1.64 0.00   1   2     1 -0.46\npaid*         14 395  1.46 0.50      1    1.45 0.00   1   2     1  0.17\nactivities*   15 395  1.51 0.50      2    1.51 0.00   1   2     1 -0.04\nnursery*      16 395  1.79 0.40      2    1.87 0.00   1   2     1 -1.46\nhigher*       17 395  1.95 0.22      2    2.00 0.00   1   2     1 -4.08\ninternet*     18 395  1.83 0.37      2    1.91 0.00   1   2     1 -1.78\nromantic*     19 395  1.33 0.47      1    1.29 0.00   1   2     1  0.70\nfamrel        20 395  3.94 0.90      4    4.04 1.48   1   5     4 -0.94\nfreetime      21 395  3.24 1.00      3    3.23 1.48   1   5     4 -0.16\ngoout         22 395  3.11 1.11      3    3.09 1.48   1   5     4  0.12\nDalc          23 395  1.48 0.89      1    1.27 0.00   1   5     4  2.17\nWalc          24 395  2.29 1.29      2    2.15 1.48   1   5     4  0.61\nhealth        25 395  3.55 1.39      4    3.69 1.48   1   5     4 -0.49\nabsences      26 395  5.71 8.00      4    4.24 5.93   0  75    75  3.64\nG1*           27 395  8.02 5.90      6    7.80 5.93   1  17    16  0.35\nG2*           28 395  8.40 5.59      7    8.17 5.93   1  17    16  0.40\nG3            29 395 10.42 4.58     11   10.84 4.45   0  20    20 -0.73\nfamsizeF*     30 395  1.29 0.45      1    1.24 0.00   1   2     1  0.93\nPstatusF*     31 395  1.90 0.31      2    1.99 0.00   1   2     1 -2.59\nguardianF*    32 395  1.85 0.54      2    1.84 0.00   1   3     2 -0.11\naddressF*     33 395  1.78 0.42      2    1.85 0.00   1   2     1 -1.33\n            kurtosis   se\nschool*         3.68 0.02\nsex*           -1.99 0.03\nage            -0.03 0.06\nMedu           -1.10 0.06\nFedu           -1.21 0.05\nMjob*          -0.69 0.06\nFjob*           0.98 0.04\nreason*        -1.40 0.06\ntraveltime      2.27 0.04\nstudytime      -0.04 0.04\nfailures        4.89 0.04\nschoolsup*      2.86 0.02\nfamsup*        -1.79 0.02\npaid*          -1.98 0.03\nactivities*    -2.00 0.03\nnursery*        0.12 0.02\nhigher*        14.71 0.01\ninternet*       1.16 0.02\nromantic*      -1.51 0.02\nfamrel          1.09 0.05\nfreetime       -0.33 0.05\ngoout          -0.79 0.06\nDalc            4.65 0.04\nWalc           -0.81 0.06\nhealth         -1.03 0.07\nabsences       21.31 0.40\nG1*            -1.54 0.30\nG2*            -1.43 0.28\nG3              0.37 0.23\nfamsizeF*      -1.14 0.02\nPstatusF*       4.71 0.02\nguardianF*      0.15 0.03\naddressF*      -0.24 0.02\n\ncolSums(is.na(math_data3)) #no NAs \n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup       paid \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health   absences         G1         G2 \n         0          0          0          0          0          0          0 \n        G3   famsizeF   PstatusF  guardianF   addressF \n         0          0          0          0          0 \n\n#______________________________\n\npor_data3 #again fine except G1/G2 \n\n# A tibble: 649 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 639 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\npor_data3 %&gt;% mutate(\"G1\" = as.character(G1),\"G2\" = as.character(G2), .keep=\"unused\") -&gt;por_data3\n\nstr(por_data3)\n\ntibble [649 × 33] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:649] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:649] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:649] 18 17 15 15 16 16 16 17 15 15 ...\n $ Medu      : num [1:649] 4 1 1 4 3 4 2 4 3 3 ...\n $ Fedu      : num [1:649] 4 1 1 2 3 3 2 4 2 4 ...\n $ Mjob      : chr [1:649] \"at_home\" \"at_home\" \"at_home\" \"health\" ...\n $ Fjob      : chr [1:649] \"teacher\" \"other\" \"other\" \"services\" ...\n $ reason    : chr [1:649] \"course\" \"course\" \"other\" \"home\" ...\n $ traveltime: num [1:649] 2 1 1 1 1 1 1 2 1 1 ...\n $ studytime : num [1:649] 2 2 2 3 2 2 2 2 2 2 ...\n $ failures  : num [1:649] 0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:649] \"yes\" \"no\" \"yes\" \"no\" ...\n $ famsup    : chr [1:649] \"no\" \"yes\" \"no\" \"yes\" ...\n $ paid      : chr [1:649] \"no\" \"no\" \"no\" \"no\" ...\n $ activities: chr [1:649] \"no\" \"no\" \"no\" \"yes\" ...\n $ nursery   : chr [1:649] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:649] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:649] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ romantic  : chr [1:649] \"no\" \"no\" \"no\" \"yes\" ...\n $ famrel    : num [1:649] 4 5 4 3 4 5 4 4 4 5 ...\n $ freetime  : num [1:649] 3 3 3 2 3 4 4 1 2 5 ...\n $ goout     : num [1:649] 4 3 2 2 2 2 4 4 2 1 ...\n $ Dalc      : num [1:649] 1 1 2 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:649] 1 1 3 1 2 2 1 1 1 1 ...\n $ health    : num [1:649] 3 3 3 5 5 5 3 1 1 5 ...\n $ absences  : num [1:649] 4 2 6 0 0 6 0 2 0 0 ...\n $ G1        : chr [1:649] \"0\" \"9\" \"12\" \"14\" ...\n $ G2        : chr [1:649] \"11\" \"11\" \"13\" \"14\" ...\n $ G3        : num [1:649] 11 11 12 14 13 13 13 13 17 13 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 2 1 1 2 2 1 2 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 2 1 1 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 2 1 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\npsych::describe(por_data3) #looks fine \n\n            vars   n  mean   sd median trimmed  mad min max range  skew\nschool*        1 649  1.35 0.48      1    1.31 0.00   1   2     1  0.64\nsex*           2 649  1.41 0.49      1    1.39 0.00   1   2     1  0.37\nage            3 649 16.74 1.22     17   16.70 1.48  15  22     7  0.41\nMedu           4 649  2.51 1.13      2    2.53 1.48   0   4     4 -0.03\nFedu           5 649  2.31 1.10      2    2.27 1.48   0   4     4  0.21\nMjob*          6 649  2.94 1.25      3    2.93 1.48   1   5     4 -0.19\nFjob*          7 649  3.22 0.86      3    3.29 0.00   1   5     4 -0.53\nreason*        8 649  2.11 1.19      2    2.02 1.48   1   4     3  0.56\ntraveltime     9 649  1.57 0.75      1    1.43 0.00   1   4     3  1.24\nstudytime     10 649  1.93 0.83      2    1.85 1.48   1   4     3  0.70\nfailures      11 649  0.22 0.59      0    0.07 0.00   0   3     3  3.08\nschoolsup*    12 649  1.10 0.31      1    1.01 0.00   1   2     1  2.57\nfamsup*       13 649  1.61 0.49      2    1.64 0.00   1   2     1 -0.46\npaid*         14 649  1.06 0.24      1    1.00 0.00   1   2     1  3.69\nactivities*   15 649  1.49 0.50      1    1.48 0.00   1   2     1  0.06\nnursery*      16 649  1.80 0.40      2    1.88 0.00   1   2     1 -1.52\nhigher*       17 649  1.89 0.31      2    1.99 0.00   1   2     1 -2.55\ninternet*     18 649  1.77 0.42      2    1.83 0.00   1   2     1 -1.26\nromantic*     19 649  1.37 0.48      1    1.34 0.00   1   2     1  0.55\nfamrel        20 649  3.93 0.96      4    4.05 1.48   1   5     4 -1.10\nfreetime      21 649  3.18 1.05      3    3.19 1.48   1   5     4 -0.18\ngoout         22 649  3.18 1.18      3    3.20 1.48   1   5     4 -0.01\nDalc          23 649  1.50 0.92      1    1.28 0.00   1   5     4  2.13\nWalc          24 649  2.28 1.28      2    2.14 1.48   1   5     4  0.63\nhealth        25 649  3.54 1.45      4    3.67 1.48   1   5     4 -0.50\nabsences      26 649  3.66 4.64      2    2.80 2.97   0  32    32  2.01\nG1*           27 649  7.26 5.24      5    6.71 2.97   1  17    16  0.89\nG2*           28 649  6.86 4.79      5    6.34 2.97   1  16    15  0.92\nG3            29 649 11.91 3.23     12   12.04 2.97   0  19    19 -0.91\nfamsizeF*     30 649  1.30 0.46      1    1.25 0.00   1   2     1  0.89\nPstatusF*     31 649  1.88 0.33      2    1.97 0.00   1   2     1 -2.29\nguardianF*    32 649  1.83 0.52      2    1.83 0.00   1   3     2 -0.20\naddressF*     33 649  1.70 0.46      2    1.74 0.00   1   2     1 -0.85\n            kurtosis   se\nschool*        -1.60 0.02\nsex*           -1.87 0.02\nage             0.05 0.05\nMedu           -1.27 0.04\nFedu           -1.12 0.04\nMjob*          -0.83 0.05\nFjob*           1.17 0.03\nreason*        -1.25 0.05\ntraveltime      1.08 0.03\nstudytime       0.02 0.03\nfailures        9.70 0.02\nschoolsup*      4.64 0.01\nfamsup*        -1.79 0.02\npaid*          11.66 0.01\nactivities*    -2.00 0.02\nnursery*        0.31 0.02\nhigher*         4.50 0.01\ninternet*      -0.41 0.02\nromantic*      -1.71 0.02\nfamrel          1.32 0.04\nfreetime       -0.41 0.04\ngoout          -0.87 0.05\nDalc            4.28 0.04\nWalc           -0.78 0.05\nhealth         -1.13 0.06\nabsences        5.70 0.18\nG1*            -0.77 0.21\nG2*            -0.60 0.19\nG3              2.66 0.13\nfamsizeF*      -1.21 0.02\nPstatusF*       3.23 0.01\nguardianF*      0.17 0.02\naddressF*      -1.28 0.02\n\ncolSums(is.na(por_data3)) #no NAs \n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup       paid \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health   absences         G1         G2 \n         0          0          0          0          0          0          0 \n        G3   famsizeF   PstatusF  guardianF   addressF \n         0          0          0          0          0 \n\n\n\n\n\n\n#one-way table \ntable(math_data3$famsizeF)\n\n\nGT3 LE3 \n281 114 \n\n#Over double the amount of people with less than or equal to 3 members have &gt;3 family members; 281 have &gt;3 and 114 have &lt;= 3. \n\n#two-way table\ntable(math_data3$famsizeF, math_data3$addressF) \n\n     \n        R   U\n  GT3  68 213\n  LE3  20  94\n\n#Regardless of family size, urban living is more common than rural. Out of the people with families &gt;3 people, 68 live rurally. \n\n#three-way table\ntable(math_data3$famsizeF, math_data3$addressF, math_data3$PstatusF) \n\n, ,  = A\n\n     \n        R   U\n  GT3   4  17\n  LE3   3  17\n\n, ,  = T\n\n     \n        R   U\n  GT3  64 196\n  LE3  17  77\n\n#First observation, significantly more people have parents living together which is nice. Of the people with split parents, 4/21 of those with families &gt;3 people live rurally. \n#____________________________________________________\n\n#conditional two-way table \n\nthreeway&lt;- table(math_data3$famsizeF, math_data3$addressF, math_data3$PstatusF)\nthreeway[,,2] \n\n     \n        R   U\n  GT3  64 196\n  LE3  17  77\n\n#This gives only the values of family size and address for those with parents that are together\nmath_data3 %&gt;% filter(PstatusF==\"T\") -&gt;subsetted_math\ntable(subsetted_math$famsizeF,subsetted_math$addressF)\n\n     \n        R   U\n  GT3  64 196\n  LE3  17  77\n\n#This gives only the values of family size and address for those with parents that are together\n\n#_____________________________________________________\n\n#Two-way contigency table \n\nmath_data3 %&gt;% group_by(famsizeF,addressF) %&gt;% summarize(count = n()) %&gt;% pivot_wider(names_from=addressF, values_from=count) #same output as the two-way table from earlier! \n\n`summarise()` has grouped output by 'famsizeF'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 2 × 3\n# Groups:   famsizeF [2]\n  famsizeF     R     U\n  &lt;fct&gt;    &lt;int&gt; &lt;int&gt;\n1 GT3         68   213\n2 LE3         20    94\n\n#______________________________________________________\n\n#Stacked bar plot \nggplot(math_data3, aes(x=famsizeF, fill = addressF)) + geom_bar() + labs(x= \"Family size: &gt;3 or &lt;=3\", y= \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")\n\n\n\n#Side-by-side plot \nggplot(math_data3, aes(x=famsizeF, fill = addressF)) + geom_bar(position = \"dodge\") + labs(x= \"Family size: &gt;3 or &lt;=3\", y= \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")"
  }
]