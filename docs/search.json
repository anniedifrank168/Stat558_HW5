[
  {
    "objectID": "AJD_HW5.html",
    "href": "AJD_HW5.html",
    "title": "St558HW5",
    "section": "",
    "text": "First, will load the data in locally\nSecond, will load and combine the data using functions from tidyverse\nLastly, will convert interesting categorical variables to factors for both math data, Portuguese, and combined data. The four variables I am interested in are\n\naddress: student’s home address type (binary: ‘U’ - urban or ‘R’ - rural)\nfamsize: family size (binary: ‘LE3’ - less or equal to 3 or ‘GT3’ - greater than 3)\nPstatus: parent’s cohabitation status (binary: ‘T’ - living together or ‘A’ - apart)\nguardian: student’s guardian (nominal: ‘mother’, ‘father’, or ‘other’)\n\n\n\n#Loading in data from local file sourse and combining the 2 dataframes\nmath_data = read.table(\"student-mat.csv\", sep = \";\", header = TRUE)\npor_data = read.table(\"student-por.csv\", sep = \";\", header = TRUE)\n\ncombined_data = merge(\n  math_data,\n  por_data,\n  by = c(\n    \"school\",\n    \"sex\",\n    \"age\",\n    \"address\",\n    \"famsize\",\n    \"Pstatus\",\n    \"Medu\",\n    \"Fedu\",\n    \"Mjob\",\n    \"Fjob\",\n    \"reason\",\n    \"nursery\",\n    \"internet\"\n  )\n)\nprint(nrow(combined_data)) # 382 students\n\n[1] 382\n\n#Loading in the data and combing using functions from the tidyverse\n\nmath_data2 = read_csv2(\"student-mat.csv\", col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\n\n\nRows: 395 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npor_data2 = read_csv2(\"student-por.csv\", col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\nRows: 649 Columns: 33── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ncombine_data2 &lt;-\n  inner_join(\n    math_data2,\n    por_data2,\n    by = c(\n      \"school\",\n      \"sex\",\n      \"age\",\n      \"address\",\n      \"famsize\",\n      \"Pstatus\",\n      \"Medu\",\n      \"Fedu\",\n      \"Mjob\",\n      \"Fjob\",\n      \"reason\",\n      \"nursery\",\n      \"internet\"\n    )\n  )\n\nWarning in inner_join(math_data2, por_data2, by = c(\"school\", \"sex\", \"age\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n#Warning: Detected an unexpected many-to-many relationship between `x` and `y`. Looked up this warning and it says it arises when a single row in one dataset can match with multiple rows in the other and vice versa, creating a \"many to many\" relationship. This can cause duplicate rows or incorrect data combinations - issue is with G1-3 and paid and absences because they are specific to the class\n\n#grabbing variable names to copy paste\ncolnames(math_data)\n\n [1] \"school\"     \"sex\"        \"age\"        \"address\"    \"famsize\"   \n [6] \"Pstatus\"    \"Medu\"       \"Fedu\"       \"Mjob\"       \"Fjob\"      \n[11] \"reason\"     \"guardian\"   \"traveltime\" \"studytime\"  \"failures\"  \n[16] \"schoolsup\"  \"famsup\"     \"paid\"       \"activities\" \"nursery\"   \n[21] \"higher\"     \"internet\"   \"romantic\"   \"famrel\"     \"freetime\"  \n[26] \"goout\"      \"Dalc\"       \"Walc\"       \"health\"     \"absences\"  \n[31] \"G1\"         \"G2\"         \"G3\"        \n\ncomb_data3 &lt;-\n  inner_join(\n    math_data2,\n    por_data2,\n    by = c(\n      \"school\",\n      \"sex\",\n      \"age\",\n      \"address\",\n      \"famsize\",\n      \"Pstatus\",\n      \"Medu\",\n      \"Fedu\",\n      \"Mjob\",\n      \"Fjob\",\n      \"reason\",\n      \"guardian\",\n      \"traveltime\",\n      \"studytime\",\n      \"failures\",\n      \"schoolsup\",\n      \"famsup\",\n      \"activities\",\n      \"nursery\",\n      \"higher\",\n      \"internet\",\n      \"romantic\",\n      \"famrel\",\n      \"freetime\",\n      \"goout\",\n      \"Dalc\",\n      \"Walc\",\n      \"health\"\n    )\n  )\n\n#Converting 4 categorical variables to factor variables in each tibble using mutate()\n\nmath_data2 %&gt;% mutate(\n  \"famsizeF\" = as.factor(famsize),\n  \"PstatusF\" = as.factor(Pstatus),\n  \"guardianF\" = as.factor(guardian),\n  \"addressF\" = as.factor(address),\n  .keep = \"unused\"\n) -&gt; math_data3\n\npor_data2 %&gt;% mutate(\n  \"famsizeF\" = as.factor(famsize),\n  \"PstatusF\" = as.factor(Pstatus),\n  \"guardianF\" = as.factor(guardian),\n  \"addressF\" = as.factor(address),\n  .keep = \"unused\"\n) -&gt; por_data3\n\ncomb_data3 %&gt;% mutate(\n  \"famsizeF\" = as.factor(famsize),\n  \"PstatusF\" = as.factor(Pstatus),\n \"guardianF\" = as.factor(guardian),\n \"addressF\" = as.factor(address),\n .keep = \"unused\"\n) -&gt; comb_data3\n\n#printing for display purposes\nmath_data3\n\n# A tibble: 395 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 385 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\npor_data3\n\n# A tibble: 649 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 639 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\ncomb_data3\n\n# A tibble: 320 × 38\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     4     2 health   services home             1         3\n 4 GP     F        16     3     3 other    other    home             1         2\n 5 GP     M        16     4     3 services other    reputa…          1         2\n 6 GP     M        16     2     2 other    other    home             1         2\n 7 GP     F        17     4     4 other    teacher  home             2         2\n 8 GP     M        15     3     2 services other    home             1         2\n 9 GP     M        15     3     4 other    other    home             1         2\n10 GP     F        15     4     4 teacher  health   reputa…          1         2\n# ℹ 310 more rows\n# ℹ 28 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid.x &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;,\n#   internet &lt;chr&gt;, romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;,\n#   Dalc &lt;dbl&gt;, Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences.x &lt;dbl&gt;, G1.x &lt;dbl&gt;,\n#   G2.x &lt;dbl&gt;, G3.x &lt;dbl&gt;, paid.y &lt;chr&gt;, absences.y &lt;dbl&gt;, G1.y &lt;dbl&gt;,\n#   G2.y &lt;dbl&gt;, G3.y &lt;dbl&gt;, famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, …\n\n\n\n\n\nHere, we will look at how the data is stored to make sure everything makes sense as well as document any missing values. Then, we will perform summaries and graphs on interesting things.\nNOTE: With doing psych::describe, I did not use (head) to look at the data- I added it in after the fact to de-clutter the output quarto document a little for grading ease.\n\n\n\n#comb_data3\n\nstr(comb_data3)\n\ntibble [320 × 38] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:320] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:320] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:320] 18 17 15 16 16 16 17 15 15 15 ...\n $ Medu      : num [1:320] 4 1 4 3 4 2 4 3 3 4 ...\n $ Fedu      : num [1:320] 4 1 2 3 3 2 4 2 4 4 ...\n $ Mjob      : chr [1:320] \"at_home\" \"at_home\" \"health\" \"other\" ...\n $ Fjob      : chr [1:320] \"teacher\" \"other\" \"services\" \"other\" ...\n $ reason    : chr [1:320] \"course\" \"course\" \"home\" \"home\" ...\n $ traveltime: num [1:320] 2 1 1 1 1 1 2 1 1 1 ...\n $ studytime : num [1:320] 2 2 3 2 2 2 2 2 2 2 ...\n $ failures  : num [1:320] 0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:320] \"yes\" \"no\" \"no\" \"no\" ...\n $ famsup    : chr [1:320] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ paid.x    : chr [1:320] \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities: chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ nursery   : chr [1:320] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:320] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:320] \"no\" \"yes\" \"yes\" \"no\" ...\n $ romantic  : chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ famrel    : num [1:320] 4 5 3 4 5 4 4 4 5 3 ...\n $ freetime  : num [1:320] 3 3 2 3 4 4 1 2 5 3 ...\n $ goout     : num [1:320] 4 3 2 2 2 4 4 2 1 3 ...\n $ Dalc      : num [1:320] 1 1 1 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:320] 1 1 1 2 2 1 1 1 1 2 ...\n $ health    : num [1:320] 3 3 5 5 5 3 1 1 5 2 ...\n $ absences.x: num [1:320] 6 4 2 4 10 0 6 0 0 0 ...\n $ G1.x      : num [1:320] 5 5 15 6 15 12 6 16 14 10 ...\n $ G2.x      : num [1:320] 6 5 14 10 15 12 5 18 15 8 ...\n $ G3.x      : num [1:320] 6 6 15 10 15 11 6 19 15 9 ...\n $ paid.y    : chr [1:320] \"no\" \"no\" \"no\" \"no\" ...\n $ absences.y: num [1:320] 4 2 0 0 6 0 2 0 0 2 ...\n $ G1.y      : num [1:320] 0 9 14 11 12 13 10 15 12 14 ...\n $ G2.y      : num [1:320] 11 11 14 13 12 12 13 16 12 14 ...\n $ G3.y      : num [1:320] 11 11 14 13 13 13 13 17 13 14 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 1 1 2 2 1 2 1 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 1 1 2 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 1 2 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\n#converting some dbl types to characters (categorical vars)\ncomb_data3 %&gt;% mutate(\n  \"Medu\" = as.character(Medu),\n  \"Fedu\" = as.character(Fedu),\n  \"traveltime\" = as.character(traveltime),\n  \"studytime\" = as.character(studytime),\n  \"failures\" = as.character(failures),\n  \"famrel\" = as.character(famrel),\n  \"freetime\" = as.character(freetime),\n  \"goout\" = as.character(goout),\n  \"Dalc\" = as.character(Dalc),\n  \"Walc\" = as.character(Walc),\n  \"health\" = as.character(health),\n  .keep = \"unused\"\n) -&gt; comb_data3\n\nhead(psych::describe(comb_data3))#nothing looks weird here\n\n        vars   n  mean   sd median trimmed  mad min max range  skew kurtosis\nschool*    1 320  1.10 0.30      1    1.00 0.00   1   2     1  2.60     4.76\nsex*       2 320  1.46 0.50      1    1.45 0.00   1   2     1  0.17    -1.98\nage        3 320 16.52 1.14     16   16.49 1.48  15  22     7  0.43     0.35\nMedu*      4 320  3.87 1.07      4    3.97 1.48   1   5     4 -0.43    -1.03\nFedu*      5 320  3.62 1.09      4    3.66 1.48   1   5     4 -0.16    -1.16\nMjob*      6 320  3.21 1.24      3    3.26 1.48   1   5     4 -0.29    -0.71\n          se\nschool* 0.02\nsex*    0.03\nage     0.06\nMedu*   0.06\nFedu*   0.06\nMjob*   0.07\n\ncolSums(is.na(comb_data3)) #no NAs which is expected, says in their documentation\n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup     paid.x \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health absences.x       G1.x       G2.x \n         0          0          0          0          0          0          0 \n      G3.x     paid.y absences.y       G1.y       G2.y       G3.y   famsizeF \n         0          0          0          0          0          0          0 \n  PstatusF  guardianF   addressF \n         0          0          0 \n\n#Im going to rename the Gs/ paid/abscences for my own benefit\ncomb_data3 %&gt;% mutate(\n  \"G1.math\" = G1.x,\n  \"G1.por\" = G1.y,\n  \"G2.math\" = G2.x,\n  \"G2.por\" = G2.y,\n  \"G3.math\" = G3.x,\n  \"G3.por\" = G3.y,\n  \"paid.math\" = paid.x,\n  \"absences.math\" = absences.x,\n  \"paid.por\" = paid.y,\n  \"absences.por\" = absences.y,\n  .keep = \"unused\"\n) -&gt; comb_data3\n\n\n\n\n\n#one-way table\ntable(comb_data3$famsizeF)\n\n\nGT3 LE3 \n230  90 \n\n#Over double the amount of people with less than or equal to 3 members have &gt;3 family members; 230 have &gt;3 and 90 have &lt;= 3.\n\n#two-way table\ntable(comb_data3$famsizeF, comb_data3$addressF)\n\n     \n        R   U\n  GT3  53 177\n  LE3  14  76\n\n#Regardless of family size, urban living is more common than rural. Out of the people with families &gt;3 people, 53 live rurally.\n\n#three-way table\ntable(comb_data3$famsizeF,\n      comb_data3$addressF,\n      comb_data3$PstatusF)\n\n, ,  = A\n\n     \n        R   U\n  GT3   3  13\n  LE3   2  13\n\n, ,  = T\n\n     \n        R   U\n  GT3  50 164\n  LE3  12  63\n\n#First observation, significantly more people have parents living together which is nice. Of the people with split parents, 3/16 of those with families &gt;3 people live rurally.\n#____________________________________________________\n\n#conditional two-way table\n\nthreeway &lt;-\n  table(comb_data3$famsizeF,\n        comb_data3$addressF,\n        comb_data3$PstatusF)\nthreeway[, , 2]\n\n     \n        R   U\n  GT3  50 164\n  LE3  12  63\n\n#This gives only the values of family size and address for those with parents that are together\ncomb_data3 %&gt;% filter(PstatusF == \"T\") -&gt; subsetted_math\ntable(subsetted_math$famsizeF, subsetted_math$addressF)\n\n     \n        R   U\n  GT3  50 164\n  LE3  12  63\n\n#This gives only the values of family size and address for those with parents that are together\n#Out of the people with parents together, 12 of the people with less than or equal to 3 family size live rurally.\n\n#_____________________________________________________\n\n#Two-way contigency table \n\ncomb_data3 %&gt;% group_by(famsizeF, addressF) %&gt;% summarize(count = n()) %&gt;% pivot_wider(names_from =\n                                                                                         addressF, values_from = count) \n\n`summarise()` has grouped output by 'famsizeF'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 2 × 3\n# Groups:   famsizeF [2]\n  famsizeF     R     U\n  &lt;fct&gt;    &lt;int&gt; &lt;int&gt;\n1 GT3         53   177\n2 LE3         14    76\n\n#same output as the two-way table from earlier!\n\n#______________________________________________________\n\n#Stacked bar plot\nggplot(comb_data3, aes(x = famsizeF, fill = addressF)) + geom_bar() + labs(x = \"Family size: &gt;3 or &lt;=3\", y = \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")\n\n\n\n#Side-by-side plot\nggplot(comb_data3, aes(x = famsizeF, fill = addressF)) + geom_bar(position = \"dodge\") + labs(x = \"Family size: &gt;3 or &lt;=3\", y = \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")\n\n\n\n#Both graphs show that regardless of family size, there are significantly more participants living urbally than rurally. If I ran a statistically test I would bet there's no significant interaction between the two. \n\n\n\n\nNumeric variables: age, absences, and the three test grade variables from each data set (math and Portuguese).\nHere we will:\n\nfind the center and spread for age, absences of the math class, and G1 of the math class.\n\n-   Repeat while subsetting the data in a meaningful way.\n\nFind measures of center and spread across a single grouping variable for three of these variables (including a G3 variable as one of them)\nFind measures of center and spread across two grouping variables for three of these variables\nCreate a correlation matrix between all of the numeric variables\n\n\n#Center and spread for each variable\n#Age\ncomb_data3 %&gt;% summarize(mean = mean(age),\n                         med = median(age),\n                         stddev = sd(age)) -&gt; age\n#Absences of math class\ncomb_data3 %&gt;% summarize(\n  mean = mean(absences.math),\n  med = median(absences.math),\n  stddev = sd(absences.math)\n) -&gt; absences_math\n#G1 of math class\ncomb_data3 %&gt;% summarize(\n  mean = mean(G1.math),\n  med = median(G1.math),\n  stddev = sd(G1.math)\n) -&gt; G1_math\n\nNumSums &lt;- bind_rows(age, absences_math, G1_math) %&gt;% as.data.frame()\nrownames(NumSums) = c(\"age\", \"absences_math\", \"G1_math\")\n\n#Repeating while subsetting data to just females\n#Age\ncomb_data3 %&gt;% filter(sex == \"F\") %&gt;% summarize(mean = mean(age),\n                                                med = median(age),\n                                                stddev = sd(age)) -&gt; Female_age\n#Absences of math class\ncomb_data3 %&gt;% filter(sex == \"F\") %&gt;% summarize(\n  mean = mean(absences.math),\n  med = median(absences.math),\n  stddev = sd(absences.math)\n) -&gt; Female_absences_math\n#G1 of math class\ncomb_data3 %&gt;% filter(sex == \"F\") %&gt;% summarize(\n  mean = mean(G1.math),\n  med = median(G1.math),\n  stddev = sd(G1.math)\n) -&gt; Female_G1_math\nNumSumsF &lt;-\n  bind_rows(Female_age, Female_absences_math, Female_G1_math) %&gt;% as.data.frame()\nrownames(NumSumsF) = c(\"Fem_age\", \"Fem_absences_math\", \"Fem_G1_math\")\n\nNumSums &lt;- bind_rows(NumSums, NumSumsF)\nNumSums\n\n                       mean med   stddev\nage               16.525000  16 1.141687\nabsences_math      5.412500   4 7.835205\nG1_math           11.290625  11 3.204607\nFem_age           16.632184  17 1.060210\nFem_absences_math  5.781609   4 9.391824\nFem_G1_math       10.873563  10 3.192493\n\n#Looking at all the data, it looks like Absences, regardless of whether its whole class or just females, are very variable. Just females did slightly lower grade wise than both sexes combined. \n\n#_________________________________________________________\n#Find measures of center and spread across a single grouping variable for three of these variables\n\ncomb_data3 %&gt;% group_by(sex) %&gt;% summarize(mean = mean(age),\n                                           med = median(age),\n                                           stddev = sd(age)) -&gt; age_grouped\n\ncomb_data3 %&gt;% group_by(sex) %&gt;% summarize(\n  mean = mean(absences.math),\n  med = median(absences.math),\n  stddev = sd(absences.math)\n) -&gt; absences_math_grouped\n\ncomb_data3 %&gt;% group_by(sex) %&gt;% summarize(\n  mean = mean(G3.math),\n  med = median(G3.math),\n  stddev = sd(G3.math)\n) -&gt; G3_math_grouped\n\nNumSums_Grouped &lt;-\n  bind_rows(age_grouped, absences_math_grouped, G3_math_grouped) %&gt;% as.data.frame()\nrownames(NumSums_Grouped) = c(\"ageF\",\n                              \"ageM\",\n                              \"absences_mathF\",\n                              \"absences_mathM\",\n                              \"G3F\",\n                              \"G3M\")\nNumSums_Grouped\n\n               sex      mean med   stddev\nageF             F 16.632184  17 1.060210\nageM             M 16.397260  16 1.223220\nabsences_mathF   F  5.781609   4 9.391824\nabsences_mathM   M  4.972603   4 5.427828\nG3F              F 10.425287  11 4.442652\nG3M              M 11.773973  12 4.021958\n\n#It looks like females had a slightly higher amount of absences (but variance is very big on those counts) and males performed slightly better on G3. Age is about the same between sexes.\n\n#________________________________________________________\n#Correlation matrix between all numeric variables \nnum_cols &lt;- comb_data3 %&gt;% select(where(is.numeric))\n\ncorrelation_matrix &lt;- cor(num_cols, use = \"complete.obs\")\ncorrelation_matrix\n\n                       age     G1.math      G1.por     G2.math      G2.por\nage            1.000000000 -0.11037935 -0.05054968 -0.18618740  0.02936646\nG1.math       -0.110379348  1.00000000  0.59293522  0.86588796  0.59517224\nG1.por        -0.050549678  0.59293522  1.00000000  0.54300736  0.88415041\nG2.math       -0.186187399  0.86588796  0.54300736  1.00000000  0.56521350\nG2.por         0.029366456  0.59517224  0.88415041  0.56521350  1.00000000\nG3.math       -0.206031862  0.81859418  0.52288461  0.91357599  0.54545279\nG3.por        -0.009103257  0.54388734  0.82541432  0.49603265  0.89430982\nabsences.math  0.143925170 -0.06946116 -0.09247761 -0.07580245 -0.14516402\nabsences.por   0.047331821 -0.08760610 -0.09864117 -0.12636236 -0.12070727\n                  G3.math       G3.por absences.math absences.por\nage           -0.20603186 -0.009103257    0.14392517   0.04733182\nG1.math        0.81859418  0.543887345   -0.06946116  -0.08760610\nG1.por         0.52288461  0.825414320   -0.09247761  -0.09864117\nG2.math        0.91357599  0.496032649   -0.07580245  -0.12636236\nG2.por         0.54545279  0.894309821   -0.14516402  -0.12070727\nG3.math        1.00000000  0.475956497   -0.02811847  -0.11664046\nG3.por         0.47595650  1.000000000   -0.13572638  -0.07145201\nabsences.math -0.02811847 -0.135726385    1.00000000   0.56381559\nabsences.por  -0.11664046 -0.071452010    0.56381559   1.00000000\n\n#Noticeable, and probably expected, strong corrrelations are between the 3 G's. There's no strong correlations with age, absences between math and portuguese have a little correlation which makes sense if it's the same student missing both classes. \n\nNext we will do visuals:\n\nCreate a histogram, kernel density plot, and boxplot for two of the numeric variables across one of the categorical variables\nCreate two scatterplots relating a G3 variable to other numeric variables (put G3 on the y-axis).\nRepeat the scatter plot step but use faceting to obtain graphs at each setting of another categorical variable.\nRepeat the scatter plot step but use faceting to obtain graphs at each combination of two categorical variables\n\n\n#Histogram of age and G3 across school \nggplot(comb_data3, aes(x = age, fill = school)) +\n  geom_histogram(alpha = 0.5, position = \"identity\") +\n  geom_histogram(aes(x = G3.math, fill = school),\n                 alpha = 0.5,\n                 position = \"identity\") +\n  labs(x = \"Age and Grade 3 of Math\", fill = \"School\", title = \"Age and Grade 3 of Math across School\") +\n  theme_minimal()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n#There are way more students at GP than MS school. Students at MS had a little more of a linear trend in age, while GP school had more of a normal distribution.\n\n#Kernel density plot of age and G3 across school\nggplot(comb_data3, aes(x = age, fill = school)) +\n  geom_density(alpha = 0.5) +\n  geom_density(aes(x = G3.math, fill = school),\n               alpha = 0.5,\n               linetype = \"dashed\") +\n  labs(x = \"Age and Grade 3 of Math\", fill = \"School\", title = \"Age and Grade 3 of Math across School\") +\n  theme_minimal()\n\n\n\n#This plot is easier to see the seperation of numeric variables in than the histogram. Both schools have a pretty normal distribution of G3, while MS seems to have older students on average than GP.\n\n#Boxplot of age and G3 across school\n\n#reshaping data to long format \ncomb_long &lt;-\n  comb_data3 %&gt;% pivot_longer(\n    cols = c(age, G3.math),\n    names_to = \"variable\",\n    values_to = \"value\"\n  )\n\nggplot(comb_long, aes(x = variable, y = value, fill = school)) +\n  geom_boxplot(alpha = 0.5) +\n  labs(x = \"Age and Grade 3 of Math\",\n       y = \"Value\",\n       fill = \"School\",\n       title = \"Age and Grade 3 of Math across School\") +\n  theme_minimal()\n\n\n\n  #GP on average looks to have higher Grade 3s than MS. Age is pretty similar with low variance, but the age is slightly higher on average at MS. The outliers in G3 are probably people that dropped out of the class. \n\n#----------------------------------------------------------------------------\n\n#Scatterplot of G3 as a Y axis and age with sex as a fill \nggplot(comb_data3, aes(x = age, y = G3.math, color = sex)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Age\", y = \"Grade 3 of Math Course\", title = \"Grade 3 of math by age, filled by sex\")\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n#There doesnt seem to be any difference in grades between sexes. There are two outliers, two males are 22 years old.\n\n#Scatterplot of G3 as a Y axis and G1 with guardian as a fill\nggplot(comb_data3, aes(x = G1.math, y = G3.math, color = guardianF)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Grade 1 of Math Course\", y = \"Grade 3 of Math Course\", title = \"Grade 3 compared to Grade 1 of Math, filled by guardian\")\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #other than some that maybe dropped the course before getting the third grade, there appears to be a linear relationship, regardless of guardian. \n\n#----------------------------------------------------------------------------\n\n#Scatterplots with faceting \n#Scatterplot of G3 as a Y axis and age with sex as a fill and school as a facet wrap \nggplot(comb_data3, aes(x = age, y = G3.math, color = sex)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Age\", y = \"Grade 3 of Math Course\", title = \"Grade 3 of math by age, filled by sex\") + facet_wrap(~school)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n#GP is much more variable in age, probably just due to having so many more students. There doesnt appear to be any significant differences in grade distributions between the schools here, or by sex in either plot.\n\n#Scatterplot of G3 as a Y axis and G1 with guardian as a fill and school as a facet wrap\nggplot(comb_data3, aes(x = G1.math, y = G3.math, color = guardianF)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Grade 1 of Math Course\", y = \"Grade 3 of Math Course\", title = \"Grade 3 compared to Grade 1 of Math, filled by guardian\") + facet_wrap(~school)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #It looks like both schools have about the same amounts of father vs mother vs other for guardian. There doesnt appear to be any significant differences in grade performance between schools; both follow a linear trend, the better a student did at grade 1 the better they did at grade 3, regardless of school or guardian situation. \n\n#----------------------------------------------------------------------------\n\n#Scatterplots with faceting two variables \n\n#Scatterplot of G3 as a Y axis and age with sex as a fill and school and family size as a facet wrap \nggplot(comb_data3, aes(x = age, y = G3.math, color = sex)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Age\", y = \"Grade 3 of Math Course\", title = \"Grade 3 of math by age, filled by sex\") + facet_wrap(school ~ famsizeF)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #Both schools have slightly more students with families of more than 3 people. The students at MS that have less than or eqial to 3 family members look to have the best grade 3 scores out of all the groups- their lowest grade is around 7.5, whilst both family sizes of GP school and the other family size of MS have grade 0s. \n\n#Scatterplot of G3 as a Y axis and G1 with guardian as a fill and school and family size as a facet wrap\nggplot(comb_data3, aes(x = G1.math, y = G3.math, color = guardianF)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Grade 1 of Math Course\", y = \"Grade 3 of Math Course\", title = \"Grade 3 compared to Grade 1 of Math, filled by guardian\") + facet_wrap(school ~ famsizeF)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #All four groups have a very similar linear trend, as G3 increases G1 increases, except that MS school's students with less than or equal to 3 family members dont have any 0 grades. Probably just an artifact"
  },
  {
    "objectID": "AJD_HW5.html#task-1-reading-in-and-modifying-data",
    "href": "AJD_HW5.html#task-1-reading-in-and-modifying-data",
    "title": "St558HW5",
    "section": "",
    "text": "First, will load the data in locally\nSecond, will load and combine the data using functions from tidyverse\nLastly, will convert interesting categorical variables to factors for both math data, Portuguese, and combined data. The four variables I am interested in are\n\naddress: student’s home address type (binary: ‘U’ - urban or ‘R’ - rural)\nfamsize: family size (binary: ‘LE3’ - less or equal to 3 or ‘GT3’ - greater than 3)\nPstatus: parent’s cohabitation status (binary: ‘T’ - living together or ‘A’ - apart)\nguardian: student’s guardian (nominal: ‘mother’, ‘father’, or ‘other’)\n\n\n\n#Loading in data from local file sourse and combining the 2 dataframes\nmath_data = read.table(\"student-mat.csv\", sep = \";\", header = TRUE)\npor_data = read.table(\"student-por.csv\", sep = \";\", header = TRUE)\n\ncombined_data = merge(\n  math_data,\n  por_data,\n  by = c(\n    \"school\",\n    \"sex\",\n    \"age\",\n    \"address\",\n    \"famsize\",\n    \"Pstatus\",\n    \"Medu\",\n    \"Fedu\",\n    \"Mjob\",\n    \"Fjob\",\n    \"reason\",\n    \"nursery\",\n    \"internet\"\n  )\n)\nprint(nrow(combined_data)) # 382 students\n\n[1] 382\n\n#Loading in the data and combing using functions from the tidyverse\n\nmath_data2 = read_csv2(\"student-mat.csv\", col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\n\n\nRows: 395 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npor_data2 = read_csv2(\"student-por.csv\", col_names = TRUE)\n\nℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.\nRows: 649 Columns: 33── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\ncombine_data2 &lt;-\n  inner_join(\n    math_data2,\n    por_data2,\n    by = c(\n      \"school\",\n      \"sex\",\n      \"age\",\n      \"address\",\n      \"famsize\",\n      \"Pstatus\",\n      \"Medu\",\n      \"Fedu\",\n      \"Mjob\",\n      \"Fjob\",\n      \"reason\",\n      \"nursery\",\n      \"internet\"\n    )\n  )\n\nWarning in inner_join(math_data2, por_data2, by = c(\"school\", \"sex\", \"age\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\n#Warning: Detected an unexpected many-to-many relationship between `x` and `y`. Looked up this warning and it says it arises when a single row in one dataset can match with multiple rows in the other and vice versa, creating a \"many to many\" relationship. This can cause duplicate rows or incorrect data combinations - issue is with G1-3 and paid and absences because they are specific to the class\n\n#grabbing variable names to copy paste\ncolnames(math_data)\n\n [1] \"school\"     \"sex\"        \"age\"        \"address\"    \"famsize\"   \n [6] \"Pstatus\"    \"Medu\"       \"Fedu\"       \"Mjob\"       \"Fjob\"      \n[11] \"reason\"     \"guardian\"   \"traveltime\" \"studytime\"  \"failures\"  \n[16] \"schoolsup\"  \"famsup\"     \"paid\"       \"activities\" \"nursery\"   \n[21] \"higher\"     \"internet\"   \"romantic\"   \"famrel\"     \"freetime\"  \n[26] \"goout\"      \"Dalc\"       \"Walc\"       \"health\"     \"absences\"  \n[31] \"G1\"         \"G2\"         \"G3\"        \n\ncomb_data3 &lt;-\n  inner_join(\n    math_data2,\n    por_data2,\n    by = c(\n      \"school\",\n      \"sex\",\n      \"age\",\n      \"address\",\n      \"famsize\",\n      \"Pstatus\",\n      \"Medu\",\n      \"Fedu\",\n      \"Mjob\",\n      \"Fjob\",\n      \"reason\",\n      \"guardian\",\n      \"traveltime\",\n      \"studytime\",\n      \"failures\",\n      \"schoolsup\",\n      \"famsup\",\n      \"activities\",\n      \"nursery\",\n      \"higher\",\n      \"internet\",\n      \"romantic\",\n      \"famrel\",\n      \"freetime\",\n      \"goout\",\n      \"Dalc\",\n      \"Walc\",\n      \"health\"\n    )\n  )\n\n#Converting 4 categorical variables to factor variables in each tibble using mutate()\n\nmath_data2 %&gt;% mutate(\n  \"famsizeF\" = as.factor(famsize),\n  \"PstatusF\" = as.factor(Pstatus),\n  \"guardianF\" = as.factor(guardian),\n  \"addressF\" = as.factor(address),\n  .keep = \"unused\"\n) -&gt; math_data3\n\npor_data2 %&gt;% mutate(\n  \"famsizeF\" = as.factor(famsize),\n  \"PstatusF\" = as.factor(Pstatus),\n  \"guardianF\" = as.factor(guardian),\n  \"addressF\" = as.factor(address),\n  .keep = \"unused\"\n) -&gt; por_data3\n\ncomb_data3 %&gt;% mutate(\n  \"famsizeF\" = as.factor(famsize),\n  \"PstatusF\" = as.factor(Pstatus),\n \"guardianF\" = as.factor(guardian),\n \"addressF\" = as.factor(address),\n .keep = \"unused\"\n) -&gt; comb_data3\n\n#printing for display purposes\nmath_data3\n\n# A tibble: 395 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 385 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\npor_data3\n\n# A tibble: 649 × 33\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     1     1 at_home  other    other            1         2\n 4 GP     F        15     4     2 health   services home             1         3\n 5 GP     F        16     3     3 other    other    home             1         2\n 6 GP     M        16     4     3 services other    reputa…          1         2\n 7 GP     M        16     2     2 other    other    home             1         2\n 8 GP     F        17     4     4 other    teacher  home             2         2\n 9 GP     M        15     3     2 services other    home             1         2\n10 GP     M        15     3     4 other    other    home             1         2\n# ℹ 639 more rows\n# ℹ 23 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences &lt;dbl&gt;, G1 &lt;dbl&gt;, G2 &lt;dbl&gt;, G3 &lt;dbl&gt;,\n#   famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, addressF &lt;fct&gt;\n\ncomb_data3\n\n# A tibble: 320 × 38\n   school sex     age  Medu  Fedu Mjob     Fjob     reason  traveltime studytime\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;\n 1 GP     F        18     4     4 at_home  teacher  course           2         2\n 2 GP     F        17     1     1 at_home  other    course           1         2\n 3 GP     F        15     4     2 health   services home             1         3\n 4 GP     F        16     3     3 other    other    home             1         2\n 5 GP     M        16     4     3 services other    reputa…          1         2\n 6 GP     M        16     2     2 other    other    home             1         2\n 7 GP     F        17     4     4 other    teacher  home             2         2\n 8 GP     M        15     3     2 services other    home             1         2\n 9 GP     M        15     3     4 other    other    home             1         2\n10 GP     F        15     4     4 teacher  health   reputa…          1         2\n# ℹ 310 more rows\n# ℹ 28 more variables: failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;,\n#   paid.x &lt;chr&gt;, activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;,\n#   internet &lt;chr&gt;, romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;,\n#   Dalc &lt;dbl&gt;, Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences.x &lt;dbl&gt;, G1.x &lt;dbl&gt;,\n#   G2.x &lt;dbl&gt;, G3.x &lt;dbl&gt;, paid.y &lt;chr&gt;, absences.y &lt;dbl&gt;, G1.y &lt;dbl&gt;,\n#   G2.y &lt;dbl&gt;, G3.y &lt;dbl&gt;, famsizeF &lt;fct&gt;, PstatusF &lt;fct&gt;, guardianF &lt;fct&gt;, …"
  },
  {
    "objectID": "AJD_HW5.html#task-2-summarizing-the-data",
    "href": "AJD_HW5.html#task-2-summarizing-the-data",
    "title": "St558HW5",
    "section": "",
    "text": "Here, we will look at how the data is stored to make sure everything makes sense as well as document any missing values. Then, we will perform summaries and graphs on interesting things.\nNOTE: With doing psych::describe, I did not use (head) to look at the data- I added it in after the fact to de-clutter the output quarto document a little for grading ease.\n\n\n\n#comb_data3\n\nstr(comb_data3)\n\ntibble [320 × 38] (S3: tbl_df/tbl/data.frame)\n $ school    : chr [1:320] \"GP\" \"GP\" \"GP\" \"GP\" ...\n $ sex       : chr [1:320] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:320] 18 17 15 16 16 16 17 15 15 15 ...\n $ Medu      : num [1:320] 4 1 4 3 4 2 4 3 3 4 ...\n $ Fedu      : num [1:320] 4 1 2 3 3 2 4 2 4 4 ...\n $ Mjob      : chr [1:320] \"at_home\" \"at_home\" \"health\" \"other\" ...\n $ Fjob      : chr [1:320] \"teacher\" \"other\" \"services\" \"other\" ...\n $ reason    : chr [1:320] \"course\" \"course\" \"home\" \"home\" ...\n $ traveltime: num [1:320] 2 1 1 1 1 1 2 1 1 1 ...\n $ studytime : num [1:320] 2 2 3 2 2 2 2 2 2 2 ...\n $ failures  : num [1:320] 0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:320] \"yes\" \"no\" \"no\" \"no\" ...\n $ famsup    : chr [1:320] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ paid.x    : chr [1:320] \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities: chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ nursery   : chr [1:320] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:320] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:320] \"no\" \"yes\" \"yes\" \"no\" ...\n $ romantic  : chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ famrel    : num [1:320] 4 5 3 4 5 4 4 4 5 3 ...\n $ freetime  : num [1:320] 3 3 2 3 4 4 1 2 5 3 ...\n $ goout     : num [1:320] 4 3 2 2 2 4 4 2 1 3 ...\n $ Dalc      : num [1:320] 1 1 1 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:320] 1 1 1 2 2 1 1 1 1 2 ...\n $ health    : num [1:320] 3 3 5 5 5 3 1 1 5 2 ...\n $ absences.x: num [1:320] 6 4 2 4 10 0 6 0 0 0 ...\n $ G1.x      : num [1:320] 5 5 15 6 15 12 6 16 14 10 ...\n $ G2.x      : num [1:320] 6 5 14 10 15 12 5 18 15 8 ...\n $ G3.x      : num [1:320] 6 6 15 10 15 11 6 19 15 9 ...\n $ paid.y    : chr [1:320] \"no\" \"no\" \"no\" \"no\" ...\n $ absences.y: num [1:320] 4 2 0 0 6 0 2 0 0 2 ...\n $ G1.y      : num [1:320] 0 9 14 11 12 13 10 15 12 14 ...\n $ G2.y      : num [1:320] 11 11 14 13 12 12 13 16 12 14 ...\n $ G3.y      : num [1:320] 11 11 14 13 13 13 13 17 13 14 ...\n $ famsizeF  : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 1 1 2 2 1 2 1 1 ...\n $ PstatusF  : Factor w/ 2 levels \"A\",\"T\": 1 2 2 2 2 2 1 1 2 2 ...\n $ guardianF : Factor w/ 3 levels \"father\",\"mother\",..: 2 1 2 1 2 2 2 2 2 2 ...\n $ addressF  : Factor w/ 2 levels \"R\",\"U\": 2 2 2 2 2 2 2 2 2 2 ...\n\n#converting some dbl types to characters (categorical vars)\ncomb_data3 %&gt;% mutate(\n  \"Medu\" = as.character(Medu),\n  \"Fedu\" = as.character(Fedu),\n  \"traveltime\" = as.character(traveltime),\n  \"studytime\" = as.character(studytime),\n  \"failures\" = as.character(failures),\n  \"famrel\" = as.character(famrel),\n  \"freetime\" = as.character(freetime),\n  \"goout\" = as.character(goout),\n  \"Dalc\" = as.character(Dalc),\n  \"Walc\" = as.character(Walc),\n  \"health\" = as.character(health),\n  .keep = \"unused\"\n) -&gt; comb_data3\n\nhead(psych::describe(comb_data3))#nothing looks weird here\n\n        vars   n  mean   sd median trimmed  mad min max range  skew kurtosis\nschool*    1 320  1.10 0.30      1    1.00 0.00   1   2     1  2.60     4.76\nsex*       2 320  1.46 0.50      1    1.45 0.00   1   2     1  0.17    -1.98\nage        3 320 16.52 1.14     16   16.49 1.48  15  22     7  0.43     0.35\nMedu*      4 320  3.87 1.07      4    3.97 1.48   1   5     4 -0.43    -1.03\nFedu*      5 320  3.62 1.09      4    3.66 1.48   1   5     4 -0.16    -1.16\nMjob*      6 320  3.21 1.24      3    3.26 1.48   1   5     4 -0.29    -0.71\n          se\nschool* 0.02\nsex*    0.03\nage     0.06\nMedu*   0.06\nFedu*   0.06\nMjob*   0.07\n\ncolSums(is.na(comb_data3)) #no NAs which is expected, says in their documentation\n\n    school        sex        age       Medu       Fedu       Mjob       Fjob \n         0          0          0          0          0          0          0 \n    reason traveltime  studytime   failures  schoolsup     famsup     paid.x \n         0          0          0          0          0          0          0 \nactivities    nursery     higher   internet   romantic     famrel   freetime \n         0          0          0          0          0          0          0 \n     goout       Dalc       Walc     health absences.x       G1.x       G2.x \n         0          0          0          0          0          0          0 \n      G3.x     paid.y absences.y       G1.y       G2.y       G3.y   famsizeF \n         0          0          0          0          0          0          0 \n  PstatusF  guardianF   addressF \n         0          0          0 \n\n#Im going to rename the Gs/ paid/abscences for my own benefit\ncomb_data3 %&gt;% mutate(\n  \"G1.math\" = G1.x,\n  \"G1.por\" = G1.y,\n  \"G2.math\" = G2.x,\n  \"G2.por\" = G2.y,\n  \"G3.math\" = G3.x,\n  \"G3.por\" = G3.y,\n  \"paid.math\" = paid.x,\n  \"absences.math\" = absences.x,\n  \"paid.por\" = paid.y,\n  \"absences.por\" = absences.y,\n  .keep = \"unused\"\n) -&gt; comb_data3\n\n\n\n\n\n#one-way table\ntable(comb_data3$famsizeF)\n\n\nGT3 LE3 \n230  90 \n\n#Over double the amount of people with less than or equal to 3 members have &gt;3 family members; 230 have &gt;3 and 90 have &lt;= 3.\n\n#two-way table\ntable(comb_data3$famsizeF, comb_data3$addressF)\n\n     \n        R   U\n  GT3  53 177\n  LE3  14  76\n\n#Regardless of family size, urban living is more common than rural. Out of the people with families &gt;3 people, 53 live rurally.\n\n#three-way table\ntable(comb_data3$famsizeF,\n      comb_data3$addressF,\n      comb_data3$PstatusF)\n\n, ,  = A\n\n     \n        R   U\n  GT3   3  13\n  LE3   2  13\n\n, ,  = T\n\n     \n        R   U\n  GT3  50 164\n  LE3  12  63\n\n#First observation, significantly more people have parents living together which is nice. Of the people with split parents, 3/16 of those with families &gt;3 people live rurally.\n#____________________________________________________\n\n#conditional two-way table\n\nthreeway &lt;-\n  table(comb_data3$famsizeF,\n        comb_data3$addressF,\n        comb_data3$PstatusF)\nthreeway[, , 2]\n\n     \n        R   U\n  GT3  50 164\n  LE3  12  63\n\n#This gives only the values of family size and address for those with parents that are together\ncomb_data3 %&gt;% filter(PstatusF == \"T\") -&gt; subsetted_math\ntable(subsetted_math$famsizeF, subsetted_math$addressF)\n\n     \n        R   U\n  GT3  50 164\n  LE3  12  63\n\n#This gives only the values of family size and address for those with parents that are together\n#Out of the people with parents together, 12 of the people with less than or equal to 3 family size live rurally.\n\n#_____________________________________________________\n\n#Two-way contigency table \n\ncomb_data3 %&gt;% group_by(famsizeF, addressF) %&gt;% summarize(count = n()) %&gt;% pivot_wider(names_from =\n                                                                                         addressF, values_from = count) \n\n`summarise()` has grouped output by 'famsizeF'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 2 × 3\n# Groups:   famsizeF [2]\n  famsizeF     R     U\n  &lt;fct&gt;    &lt;int&gt; &lt;int&gt;\n1 GT3         53   177\n2 LE3         14    76\n\n#same output as the two-way table from earlier!\n\n#______________________________________________________\n\n#Stacked bar plot\nggplot(comb_data3, aes(x = famsizeF, fill = addressF)) + geom_bar() + labs(x = \"Family size: &gt;3 or &lt;=3\", y = \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")\n\n\n\n#Side-by-side plot\nggplot(comb_data3, aes(x = famsizeF, fill = addressF)) + geom_bar(position = \"dodge\") + labs(x = \"Family size: &gt;3 or &lt;=3\", y = \"Number of participants\", title = \"Distribution of address with family size among participants\") + scale_fill_discrete(\"Address: Rural or Urban\")\n\n\n\n#Both graphs show that regardless of family size, there are significantly more participants living urbally than rurally. If I ran a statistically test I would bet there's no significant interaction between the two. \n\n\n\n\nNumeric variables: age, absences, and the three test grade variables from each data set (math and Portuguese).\nHere we will:\n\nfind the center and spread for age, absences of the math class, and G1 of the math class.\n\n-   Repeat while subsetting the data in a meaningful way.\n\nFind measures of center and spread across a single grouping variable for three of these variables (including a G3 variable as one of them)\nFind measures of center and spread across two grouping variables for three of these variables\nCreate a correlation matrix between all of the numeric variables\n\n\n#Center and spread for each variable\n#Age\ncomb_data3 %&gt;% summarize(mean = mean(age),\n                         med = median(age),\n                         stddev = sd(age)) -&gt; age\n#Absences of math class\ncomb_data3 %&gt;% summarize(\n  mean = mean(absences.math),\n  med = median(absences.math),\n  stddev = sd(absences.math)\n) -&gt; absences_math\n#G1 of math class\ncomb_data3 %&gt;% summarize(\n  mean = mean(G1.math),\n  med = median(G1.math),\n  stddev = sd(G1.math)\n) -&gt; G1_math\n\nNumSums &lt;- bind_rows(age, absences_math, G1_math) %&gt;% as.data.frame()\nrownames(NumSums) = c(\"age\", \"absences_math\", \"G1_math\")\n\n#Repeating while subsetting data to just females\n#Age\ncomb_data3 %&gt;% filter(sex == \"F\") %&gt;% summarize(mean = mean(age),\n                                                med = median(age),\n                                                stddev = sd(age)) -&gt; Female_age\n#Absences of math class\ncomb_data3 %&gt;% filter(sex == \"F\") %&gt;% summarize(\n  mean = mean(absences.math),\n  med = median(absences.math),\n  stddev = sd(absences.math)\n) -&gt; Female_absences_math\n#G1 of math class\ncomb_data3 %&gt;% filter(sex == \"F\") %&gt;% summarize(\n  mean = mean(G1.math),\n  med = median(G1.math),\n  stddev = sd(G1.math)\n) -&gt; Female_G1_math\nNumSumsF &lt;-\n  bind_rows(Female_age, Female_absences_math, Female_G1_math) %&gt;% as.data.frame()\nrownames(NumSumsF) = c(\"Fem_age\", \"Fem_absences_math\", \"Fem_G1_math\")\n\nNumSums &lt;- bind_rows(NumSums, NumSumsF)\nNumSums\n\n                       mean med   stddev\nage               16.525000  16 1.141687\nabsences_math      5.412500   4 7.835205\nG1_math           11.290625  11 3.204607\nFem_age           16.632184  17 1.060210\nFem_absences_math  5.781609   4 9.391824\nFem_G1_math       10.873563  10 3.192493\n\n#Looking at all the data, it looks like Absences, regardless of whether its whole class or just females, are very variable. Just females did slightly lower grade wise than both sexes combined. \n\n#_________________________________________________________\n#Find measures of center and spread across a single grouping variable for three of these variables\n\ncomb_data3 %&gt;% group_by(sex) %&gt;% summarize(mean = mean(age),\n                                           med = median(age),\n                                           stddev = sd(age)) -&gt; age_grouped\n\ncomb_data3 %&gt;% group_by(sex) %&gt;% summarize(\n  mean = mean(absences.math),\n  med = median(absences.math),\n  stddev = sd(absences.math)\n) -&gt; absences_math_grouped\n\ncomb_data3 %&gt;% group_by(sex) %&gt;% summarize(\n  mean = mean(G3.math),\n  med = median(G3.math),\n  stddev = sd(G3.math)\n) -&gt; G3_math_grouped\n\nNumSums_Grouped &lt;-\n  bind_rows(age_grouped, absences_math_grouped, G3_math_grouped) %&gt;% as.data.frame()\nrownames(NumSums_Grouped) = c(\"ageF\",\n                              \"ageM\",\n                              \"absences_mathF\",\n                              \"absences_mathM\",\n                              \"G3F\",\n                              \"G3M\")\nNumSums_Grouped\n\n               sex      mean med   stddev\nageF             F 16.632184  17 1.060210\nageM             M 16.397260  16 1.223220\nabsences_mathF   F  5.781609   4 9.391824\nabsences_mathM   M  4.972603   4 5.427828\nG3F              F 10.425287  11 4.442652\nG3M              M 11.773973  12 4.021958\n\n#It looks like females had a slightly higher amount of absences (but variance is very big on those counts) and males performed slightly better on G3. Age is about the same between sexes.\n\n#________________________________________________________\n#Correlation matrix between all numeric variables \nnum_cols &lt;- comb_data3 %&gt;% select(where(is.numeric))\n\ncorrelation_matrix &lt;- cor(num_cols, use = \"complete.obs\")\ncorrelation_matrix\n\n                       age     G1.math      G1.por     G2.math      G2.por\nage            1.000000000 -0.11037935 -0.05054968 -0.18618740  0.02936646\nG1.math       -0.110379348  1.00000000  0.59293522  0.86588796  0.59517224\nG1.por        -0.050549678  0.59293522  1.00000000  0.54300736  0.88415041\nG2.math       -0.186187399  0.86588796  0.54300736  1.00000000  0.56521350\nG2.por         0.029366456  0.59517224  0.88415041  0.56521350  1.00000000\nG3.math       -0.206031862  0.81859418  0.52288461  0.91357599  0.54545279\nG3.por        -0.009103257  0.54388734  0.82541432  0.49603265  0.89430982\nabsences.math  0.143925170 -0.06946116 -0.09247761 -0.07580245 -0.14516402\nabsences.por   0.047331821 -0.08760610 -0.09864117 -0.12636236 -0.12070727\n                  G3.math       G3.por absences.math absences.por\nage           -0.20603186 -0.009103257    0.14392517   0.04733182\nG1.math        0.81859418  0.543887345   -0.06946116  -0.08760610\nG1.por         0.52288461  0.825414320   -0.09247761  -0.09864117\nG2.math        0.91357599  0.496032649   -0.07580245  -0.12636236\nG2.por         0.54545279  0.894309821   -0.14516402  -0.12070727\nG3.math        1.00000000  0.475956497   -0.02811847  -0.11664046\nG3.por         0.47595650  1.000000000   -0.13572638  -0.07145201\nabsences.math -0.02811847 -0.135726385    1.00000000   0.56381559\nabsences.por  -0.11664046 -0.071452010    0.56381559   1.00000000\n\n#Noticeable, and probably expected, strong corrrelations are between the 3 G's. There's no strong correlations with age, absences between math and portuguese have a little correlation which makes sense if it's the same student missing both classes. \n\nNext we will do visuals:\n\nCreate a histogram, kernel density plot, and boxplot for two of the numeric variables across one of the categorical variables\nCreate two scatterplots relating a G3 variable to other numeric variables (put G3 on the y-axis).\nRepeat the scatter plot step but use faceting to obtain graphs at each setting of another categorical variable.\nRepeat the scatter plot step but use faceting to obtain graphs at each combination of two categorical variables\n\n\n#Histogram of age and G3 across school \nggplot(comb_data3, aes(x = age, fill = school)) +\n  geom_histogram(alpha = 0.5, position = \"identity\") +\n  geom_histogram(aes(x = G3.math, fill = school),\n                 alpha = 0.5,\n                 position = \"identity\") +\n  labs(x = \"Age and Grade 3 of Math\", fill = \"School\", title = \"Age and Grade 3 of Math across School\") +\n  theme_minimal()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n#There are way more students at GP than MS school. Students at MS had a little more of a linear trend in age, while GP school had more of a normal distribution.\n\n#Kernel density plot of age and G3 across school\nggplot(comb_data3, aes(x = age, fill = school)) +\n  geom_density(alpha = 0.5) +\n  geom_density(aes(x = G3.math, fill = school),\n               alpha = 0.5,\n               linetype = \"dashed\") +\n  labs(x = \"Age and Grade 3 of Math\", fill = \"School\", title = \"Age and Grade 3 of Math across School\") +\n  theme_minimal()\n\n\n\n#This plot is easier to see the seperation of numeric variables in than the histogram. Both schools have a pretty normal distribution of G3, while MS seems to have older students on average than GP.\n\n#Boxplot of age and G3 across school\n\n#reshaping data to long format \ncomb_long &lt;-\n  comb_data3 %&gt;% pivot_longer(\n    cols = c(age, G3.math),\n    names_to = \"variable\",\n    values_to = \"value\"\n  )\n\nggplot(comb_long, aes(x = variable, y = value, fill = school)) +\n  geom_boxplot(alpha = 0.5) +\n  labs(x = \"Age and Grade 3 of Math\",\n       y = \"Value\",\n       fill = \"School\",\n       title = \"Age and Grade 3 of Math across School\") +\n  theme_minimal()\n\n\n\n  #GP on average looks to have higher Grade 3s than MS. Age is pretty similar with low variance, but the age is slightly higher on average at MS. The outliers in G3 are probably people that dropped out of the class. \n\n#----------------------------------------------------------------------------\n\n#Scatterplot of G3 as a Y axis and age with sex as a fill \nggplot(comb_data3, aes(x = age, y = G3.math, color = sex)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Age\", y = \"Grade 3 of Math Course\", title = \"Grade 3 of math by age, filled by sex\")\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n#There doesnt seem to be any difference in grades between sexes. There are two outliers, two males are 22 years old.\n\n#Scatterplot of G3 as a Y axis and G1 with guardian as a fill\nggplot(comb_data3, aes(x = G1.math, y = G3.math, color = guardianF)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Grade 1 of Math Course\", y = \"Grade 3 of Math Course\", title = \"Grade 3 compared to Grade 1 of Math, filled by guardian\")\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #other than some that maybe dropped the course before getting the third grade, there appears to be a linear relationship, regardless of guardian. \n\n#----------------------------------------------------------------------------\n\n#Scatterplots with faceting \n#Scatterplot of G3 as a Y axis and age with sex as a fill and school as a facet wrap \nggplot(comb_data3, aes(x = age, y = G3.math, color = sex)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Age\", y = \"Grade 3 of Math Course\", title = \"Grade 3 of math by age, filled by sex\") + facet_wrap(~school)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n#GP is much more variable in age, probably just due to having so many more students. There doesnt appear to be any significant differences in grade distributions between the schools here, or by sex in either plot.\n\n#Scatterplot of G3 as a Y axis and G1 with guardian as a fill and school as a facet wrap\nggplot(comb_data3, aes(x = G1.math, y = G3.math, color = guardianF)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Grade 1 of Math Course\", y = \"Grade 3 of Math Course\", title = \"Grade 3 compared to Grade 1 of Math, filled by guardian\") + facet_wrap(~school)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #It looks like both schools have about the same amounts of father vs mother vs other for guardian. There doesnt appear to be any significant differences in grade performance between schools; both follow a linear trend, the better a student did at grade 1 the better they did at grade 3, regardless of school or guardian situation. \n\n#----------------------------------------------------------------------------\n\n#Scatterplots with faceting two variables \n\n#Scatterplot of G3 as a Y axis and age with sex as a fill and school and family size as a facet wrap \nggplot(comb_data3, aes(x = age, y = G3.math, color = sex)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Age\", y = \"Grade 3 of Math Course\", title = \"Grade 3 of math by age, filled by sex\") + facet_wrap(school ~ famsizeF)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #Both schools have slightly more students with families of more than 3 people. The students at MS that have less than or eqial to 3 family members look to have the best grade 3 scores out of all the groups- their lowest grade is around 7.5, whilst both family sizes of GP school and the other family size of MS have grade 0s. \n\n#Scatterplot of G3 as a Y axis and G1 with guardian as a fill and school and family size as a facet wrap\nggplot(comb_data3, aes(x = G1.math, y = G3.math, color = guardianF)) + geom_point() +\n  geom_jitter(width = 0.35, opacity = 0.3) + labs(x = \"Grade 1 of Math Course\", y = \"Grade 3 of Math Course\", title = \"Grade 3 compared to Grade 1 of Math, filled by guardian\") + facet_wrap(school ~ famsizeF)\n\nWarning in geom_jitter(width = 0.35, opacity = 0.3): Ignoring unknown\nparameters: `opacity`\n\n\n\n\n  #All four groups have a very similar linear trend, as G3 increases G1 increases, except that MS school's students with less than or equal to 3 family members dont have any 0 grades. Probably just an artifact"
  }
]